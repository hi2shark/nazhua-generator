import{E as Y,r as V,c as T,o as _,a as $,b as t,n as se,d as te,e as c,w as y,F as N,f as A,g as z,T as re,h as k,i as U,t as P,j as H,k as ie,u as K,l as oe,m as ae,p as le,q as ue,s as F,v as ce}from"./index-BSyTDgtU.js";const X={PEK:{x:1025,y:178,name:"北京",country:"中国"},PVG:{x:1057,y:225,name:"上海",country:"中国"},CKG:{x:1010,y:235,name:"重庆",country:"中国"},TFU:{x:1e3,y:230,name:"成都",country:"中国"},HKG:{x:1039,y:263,name:"香港",country:"中国"},MFM:{x:1035,y:264,name:"澳门",country:"中国"},TPE:{x:1067,y:253,name:"台北",country:"中国"},OSA:{x:1109,y:207,name:"大阪",country:"日本"},TYO:{x:1124,y:199,name:"东京",country:"日本"},SEL:{x:1077,y:198,name:"首尔",country:"韩国"},SIN:{x:1e3,y:354,name:"新加坡",country:"新加坡"},JHB:{x:997,y:350,name:"新山",country:"马来西亚"},KUL:{x:990,y:345,name:"吉隆坡",country:"马来西亚"},HAN:{x:998,y:274,name:"河内",country:"越南"},SGN:{x:1015,y:314,name:"胡志明市",country:"越南"},LAX:{x:95,y:207,name:"洛杉矶",country:"美国"},LAS:{x:98,y:198,name:"拉斯维加斯",country:"美国"},SLC:{x:111,y:189,name:"盐湖城",country:"美国"},SJC:{x:87,y:193,name:"圣何塞",country:"美国"},SEA:{x:118,y:143,name:"西雅图",country:"美国"},MIA:{x:243,y:244,name:"迈阿密",country:"美国"},ORD:{x:233,y:175,name:"芝加哥",country:"美国"},NYC:{x:280,y:179,name:"纽约",country:"美国"},YYZ:{x:267,y:161,name:"多伦多",country:"加拿大"},SYD:{x:1167,y:519,name:"悉尼",country:"澳大利亚"},AMS:{x:595,y:125,name:"阿姆斯特丹",country:"荷兰"},LON:{x:571,y:127,name:"伦敦",country:"英国"},FRA:{x:603,y:137,name:"法兰克福",country:"德国"},LUX:{x:591,y:140,name:"卢森堡",country:"卢森堡"},CDG:{x:579,y:145,name:"巴黎",country:"法国"},SVO:{x:704,y:115,name:"莫斯科",country:"俄罗斯"},OTP:{x:673,y:160,name:"布加勒斯特",country:"罗马尼亚"},IST:{x:676,y:176,name:"伊斯坦布尔",country:"土耳其"}},I={SGP:"SIN",ICN:"SEL",NRT:"TYO",HND:"TYO",KIX:"OSA",PAR:"CDG",MOW:"SVO",CHI:"ORD",SHA:"PVG",CAN:"CKG",CTU:"TFU",BJS:"PEK",HK:"HKG",MO:"MFM",TW:"TPE"},Z={CN:"PEK",JP:"TYO",SG:"SIN",KR:"SEL",MY:"KUL",VN:"HAN",TR:"IST",RO:"OTP",LU:"LUX",FR:"CDG",RU:"SVO",DE:"FRA",NL:"AMS",UK:"LON",GB:"LON",AU:"SYD",US:"LAX"},de=()=>{var n;if((n=crypto)!==null&&n!==void 0&&n.randomUUID)return crypto.randomUUID();let m=new Date().getTime(),u=typeof performance<"u"&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,d=>{let f=Math.random()*16;return m>0?(f=(m+f)%16|0,m=Math.floor(m/16)):(f=(u+f)%16|0,u=Math.floor(u/16)),(d==="x"?f:f&3|8).toString(16)})},J=n=>{const m=document.createElement("textarea");m.value=n,document.body.appendChild(m),m.select(),document.execCommand("Copy"),document.body.removeChild(m),n.length<10?Y.success(`复制"${n}"成功`):Y.success("复制成功")};function pe(){const n=localStorage.getItem("nazhua-custom-location");if(n)try{return JSON.parse(n)}catch{return localStorage.removeItem("nazhua-custom-location"),[]}return[]}function Q(n){n&&localStorage.setItem("nazhua-custom-location",JSON.stringify(n))}const O={isSet(n){return n!=null},isEmpty(n,m=null){let u=!1,d=!1,f=!1;if(m===!0)u=!0;else{const v=m||{};u=v.allEmpty,d=v.objectEmpty,f=v.arrayEmpty}return!!(n==null||n.constructor.name==="String"&&n===""||(u||d)&&n.constructor.name==="Object"&&Object.getOwnPropertyNames(n).length===0||(u||f)&&Array.isArray(n)&&n.length===0)},isObject(n){return typeof n=="object"&&n!==null&&n.constructor.name==="Object"},isNumber(n,m=!1){return m&&typeof n=="string"?!Number.isNaN(Number(n)):typeof n=="number"},hasOwn(n,m){return Object.prototype.hasOwnProperty.call(n,m)}},R=(n,m)=>{const u=n.__vccOpts||n;for(const[d,f]of m)u[d]=f;return u},me=["title"],fe={__name:"world-map-point",props:{info:{type:Object,default:()=>({})}},emits:["point-tap"],setup(n,{emit:m}){const u=n,d=m,f=V(),v=T(()=>{var g;const r={};return r["--map-point-left"]=`${u.info.left}px`,r["--map-point-top"]=`${u.info.top}px`,(g=u.info)!=null&&g.size&&(r["--map-point-size"]=`${u.info.size}px`),r});function w(){d("point-tap",u.info)}return(r,g)=>{var C,h;return _(),$("div",{ref_key:"pointRef",ref:f,class:se(["world-map-point","world-map-point--"+(((C=n.info)==null?void 0:C.type)||"default")]),style:te(v.value),title:((h=n.info)==null?void 0:h.label)||"",onClick:w},g[0]||(g[0]=[t("div",{class:"point-block"},null,-1)]),14,me)}}},ve=R(fe,[["__scopeId","data-v-e834ec66"]]),he={__name:"world-map",props:{width:{type:[Number,String],default:null},height:{type:[Number,String],default:null},locations:{type:Array,default:()=>[]}},emits:["point-coord","select-coord","mouse-coord"],setup(n,{emit:m}){const u=n,d=m,f=V(null),v=T(()=>{if(!O.isEmpty(u.width)&&!O.isEmpty(u.height))return{width:1280,height:621};const a=Number(u.width),o=Number(u.height);return!O.isEmpty(u.width)&&O.isEmpty(u.height)?{width:a,height:Math.ceil(621/1280*a)}:O.isEmpty(u.width)&&!O.isEmpty(u.height)?{width:Math.ceil(1280/621*o),height:o}:a/o>1280/621?{width:Math.ceil(o*(1280/621)),height:o}:{width:a,height:Math.ceil(a*(621/1280))}}),w=T(()=>({width:v.value.width/1280,height:v.value.height/621})),r=T(()=>{const a={};return a["--world-map-width"]=`${v.value.width}px`,a["--world-map-height"]=`${v.value.height}px`,a}),g=T(()=>u.locations.map(a=>({...a,key:a.key,left:v.value.width/1280*a.x,top:v.value.height/621*a.y,size:a.size||4,label:a.label})));function C(a){const o=Math.max(Math.round(a.offsetX/w.value.width),0),i=Math.max(Math.round(a.offsetY/w.value.height),0);d("select-coord",{x:o,y:i})}function h(a){const o=Math.max(Math.round(a.offsetX/w.value.width),0),i=Math.max(Math.round(a.offsetY/w.value.height),0);d("mouse-coord",{x:o,y:i})}function S(a){const o={x:a.left-a.size/2,y:a.top-a.size};console.log(o),d("point-coord",o)}return(a,o)=>(_(),$("div",{ref_key:"worldMapImgRef",ref:f,class:"world-map-group",style:te(r.value),onClick:C,onMousemove:h},[o[0]||(o[0]=t("div",{class:"world-map-img"},null,-1)),c(re,{name:"point",tag:"div",class:"world-map-point-container"},{default:y(()=>[(_(!0),$(N,null,A(g.value,i=>(_(),z(ve,{key:i.key,info:i,onPointTap:S},null,8,["info"]))),128))]),_:1})],36))}},ye=R(he,[["__scopeId","data-v-d3800f5a"]]),_e={class:"el-form-group"},be={class:"dialog-footer"},ge={__name:"custom-point-edit-dialog",emits:["success"],setup(n,{expose:m,emit:u}){const d=u,f=V(!1),v=V(null),w=()=>({code:"",name:"",country:"",x:"",y:""}),r=V(w()),g={name:[{required:!0,message:"请输入名称",trigger:["change","blur"]}],code:[{required:!0,message:"请输入唯一编码",trigger:["change","blur"]}],x:[{required:!0,trigger:["change","blur"],validator:(i,s,b)=>O.isEmpty(s)?b(new Error("请输入X轴坐标")):O.isNumber(s)?s<0||s>1280?b(new Error("X轴坐标范围为0-1280")):b():b(new Error("X轴坐标必须为数字值"))}],y:[{required:!0,trigger:["change","blur"],validator:(i,s,b)=>O.isEmpty(s)?b(new Error("请输入Y轴坐标")):O.isNumber(s)?s<0||s>621?b(new Error("Y轴坐标范围为0-621")):b():b(new Error("Y轴坐标必须为数字值"))}]};let C,h,S;function a(){v.value.validate(i=>{if(i){const s=JSON.parse(JSON.stringify(r.value));if(typeof S=="function"&&!S(s))return;d("success",{data:s,info:h,type:C}),f.value=!1}})}function o(i,s,b){C=i,h=s,S=b,r.value=w(),Object.keys(r.value).forEach(M=>{O.hasOwn(s,M)&&(r.value[M]=s[M])}),f.value=!0}return m({active:o}),(i,s)=>{const b=k("el-input"),M=k("el-form-item"),E=k("el-form"),L=k("el-button"),B=k("el-dialog");return _(),z(B,{modelValue:f.value,"onUpdate:modelValue":s[6]||(s[6]=l=>f.value=l),title:"自定义地图点",width:"400px","align-center":"","append-to-body":"","destroy-on-close":"","close-on-click-modal":!1},{footer:y(()=>[t("div",be,[c(L,{onClick:s[5]||(s[5]=l=>f.value=!1)},{default:y(()=>s[7]||(s[7]=[U("取 消")])),_:1}),c(L,{type:"primary",onClick:a},{default:y(()=>s[8]||(s[8]=[U(" 确 定 ")])),_:1})])]),default:y(()=>[c(E,{ref_key:"pointFormRef",ref:v,model:r.value,rules:g,"label-width":"80px"},{default:y(()=>[t("div",_e,[c(M,{label:"X轴",prop:"x"},{default:y(()=>[c(b,{modelValue:r.value.x,"onUpdate:modelValue":s[0]||(s[0]=l=>r.value.x=l),modelModifiers:{number:!0},type:"number",placeholder:"请输入X轴坐标"},null,8,["modelValue"])]),_:1}),c(M,{label:"Y轴",prop:"y","label-width":"50px"},{default:y(()=>[c(b,{modelValue:r.value.y,"onUpdate:modelValue":s[1]||(s[1]=l=>r.value.y=l),modelModifiers:{number:!0},type:"number",placeholder:"请输入Y轴坐标"},null,8,["modelValue"])]),_:1})]),c(M,{label:"唯一编码",prop:"code"},{default:y(()=>[c(b,{modelValue:r.value.code,"onUpdate:modelValue":s[2]||(s[2]=l=>r.value.code=l),placeholder:"请输入唯一编码",clearable:""},null,8,["modelValue"])]),_:1}),c(M,{label:"地点名称",prop:"name"},{default:y(()=>[c(b,{modelValue:r.value.name,"onUpdate:modelValue":s[3]||(s[3]=l=>r.value.name=l),placeholder:"请输入名称",clearable:""},null,8,["modelValue"])]),_:1}),c(M,{label:"国家地区",prop:"country"},{default:y(()=>[c(b,{modelValue:r.value.country,"onUpdate:modelValue":s[4]||(s[4]=l=>r.value.country=l),placeholder:"请输入国家地区, 可选",clearable:""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])}}},xe=R(ge,[["__scopeId","data-v-5ee884d2"]]),Ce={class:"world-map-box"},ke={class:"world-map-and-coord-group"},we={class:"map-operate"},Se={class:"coord-box"},Ve={class:"el-form-group"},Me={class:"coord-temp-list"},$e=["onClick"],Pe={class:"location-info"},Oe={class:"location-name"},Te={class:"location-operate"},Ee=["onClick"],De={class:"default-location-group"},ze={class:"operate-box"},Ne={class:"right-box"},Ue={class:"show-default-location-to-map"},Ae={class:"location-list"},Le={class:"location-name"},Re=["onClick"],je={class:"mapping-list"},Be=["onClick"],Fe={class:"mapping-code"},Ye={class:"mapping-list"},Ge={class:"mapping-alias"},We={class:"mapping-code"},He={class:"custom-location-group"},Xe={class:"operate-box"},Ke={class:"right-box"},Je={class:"show-custom-location-to-map"},qe={class:"location-list"},Ie={class:"location-item-info"},Ze={class:"location-name"},Qe=["onClick"],et={class:"location-item-operate"},tt=["onClick"],ot=["onClick"],at={__name:"world-map-box",setup(n,{expose:m}){const u=V(1024);function d(l){let e=u.value;l==="zoomIn"?(e+=128,e=Math.min(e,3072)):l==="zoomOut"?(e-=128,e=Math.max(e,1024)):e=1024,u.value=e}const f=V(!0),v=V(!0),w=V(null),r=T(()=>Object.keys(X).map(l=>({...X[l],type:"default",key:l,code:l,size:4,label:`[${l}] - ${X[l].country}，${X[l].name}`}))),g=T(()=>Object.keys(I).map(l=>({alias:l,code:I[l]}))),C=T(()=>Object.keys(Z).map(l=>({alias:l,code:Z[l]}))),h=V(pe()),S=V([]),a=T(()=>{const l=[];return f.value&&l.push(...r.value),l.push(...h.value),l.push(...S.value),l}),o=V({x:0,y:0});function i(l){o.value={x:l.x,y:l.y}}function s(l){o.value={x:l.x,y:l.y},S.value.push({x:l.x,y:l.y,type:"temp",key:de(),size:4,label:`X:${l.x}，Y${l.y}`})}function b(l){S.value=S.value.filter(e=>e.key!==l)}function M(l){w.value.active("add",l,e=>h.value.some(D=>D.code===e.code)?(Y.error("编码已存在"),!1):!0)}function E(l){w.value.active("edit",l,e=>h.value.length>1&&h.value.some(D=>D.code===e.code&&D.code!==l.code)?(Y.error("编码重复，需要唯一"),!1):!0)}async function L(l){await oe.confirm("确定删除该自定义地点吗？").then(()=>!0).catch(()=>!1)&&(h.value=h.value.filter(x=>x.key!==l),Q(h.value))}function B(l){const{data:e,type:x,info:D}=l;if(x==="add")h.value.push({key:e.code,type:"custom",code:e.code,name:e.name,country:e.country,x:e.x,y:e.y,size:4,label:`[${e.code}] - ${e.country}，${e.name}`}),b(D.key);else if(x==="edit"){const G=h.value.findIndex(W=>W.code===D.code);h.value.splice(G,1,{key:e.code,type:"custom",code:e.code,name:e.name,country:e.country,x:e.x,y:e.y,size:4,label:`[${e.code}] - ${e.country}，${e.name}`})}Q(h.value)}return m({getData(){const l={};return h.value.forEach(e=>{l[e.code]={name:e.name,country:e.country,x:e.x,y:e.y}}),{customCodeMap:l}}}),(l,e)=>{const x=k("el-button"),D=k("el-scrollbar"),G=k("el-input"),W=k("el-form-item"),ne=k("el-form"),q=k("el-switch");return _(),$("div",Ce,[t("div",ke,[c(D,{style:{width:"1024px",height:"497px"}},{default:y(()=>[c(ye,{width:u.value,locations:a.value,onMouseCoord:i,onSelectCoord:s},null,8,["width","locations"]),t("div",we,[c(x,{type:"primary",size:"small",link:"",onClick:e[0]||(e[0]=p=>d("zoomIn"))},{default:y(()=>e[7]||(e[7]=[U(" 放大 ")])),_:1}),c(x,{type:"success",size:"small",link:"",onClick:e[1]||(e[1]=p=>d("zoomOut"))},{default:y(()=>e[8]||(e[8]=[U(" 缩小 ")])),_:1}),c(x,{type:"default",size:"small",link:"",onClick:e[2]||(e[2]=p=>d("reset"))},{default:y(()=>e[9]||(e[9]=[U(" 默认 ")])),_:1})])]),_:1}),t("div",Se,[e[12]||(e[12]=t("div",{class:"coord-title"},[t("span",null,"坐标记录")],-1)),c(ne,null,{default:y(()=>[t("div",Ve,[c(W,{label:"X轴"},{default:y(()=>[c(G,{modelValue:o.value.x,"onUpdate:modelValue":e[3]||(e[3]=p=>o.value.x=p)},null,8,["modelValue"])]),_:1}),c(W,{label:"Y轴"},{default:y(()=>[c(G,{modelValue:o.value.y,"onUpdate:modelValue":e[4]||(e[4]=p=>o.value.y=p)},null,8,["modelValue"])]),_:1})])]),_:1}),e[13]||(e[13]=t("p",{class:"tips"}," 点击左侧地图会记录下坐标，点击记录坐标可以创建自定义地点；*隐藏内置地点后更方便戳点点 ",-1)),c(D,{height:"340px"},{default:y(()=>[t("div",Me,[(_(!0),$(N,null,A(S.value,p=>(_(),$("div",{key:p.key,class:"location-item",onClick:j=>M(p)},[t("div",Pe,[e[10]||(e[10]=t("span",{class:"location-icon"},[t("span",{class:"ri-map-pin-5-line"})],-1)),t("span",Oe," X:"+P(p.x)+"，Y:"+P(p.y),1)]),t("div",Te,[t("span",{class:"remove-btn",onClick:H(j=>b(p.key),["stop"])},e[11]||(e[11]=[t("span",{class:"ri-close-circle-fill"},null,-1)]),8,Ee)])],8,$e))),128))])]),_:1})])]),t("div",De,[t("div",ze,[e[14]||(e[14]=ie('<div class="left-box" data-v-89d267d2><div class="mode-name" data-v-89d267d2><span class="name-label" data-v-89d267d2>内置定位地点</span><span class="name-desc" data-v-89d267d2>仅内置了几个我常见的城市定位，<span class="code-value" data-v-89d267d2>此颜色</span>的都是可用代码，点击可自动复制（吧</span></div></div>',1)),t("div",Ne,[t("div",Ue,[c(q,{modelValue:f.value,"onUpdate:modelValue":e[5]||(e[5]=p=>f.value=p),size:"small","inline-prompt":"","active-text":"显示","inactive-text":"隐藏"},null,8,["modelValue"])])])]),t("div",Ae,[(_(!0),$(N,null,A(r.value,p=>(_(),$("div",{key:p.key,class:"location-item"},[e[15]||(e[15]=t("span",{class:"default-point"},[t("span",{class:"point-dot"})],-1)),t("span",Le,P(p.name),1),t("span",{class:"location-code",onClick:H(j=>K(J)(p.code),["stop"])},P(p.code),9,Re)]))),128))]),e[18]||(e[18]=t("div",{class:"sub-name"},[t("span",null,"别名映射")],-1)),t("div",je,[(_(!0),$(N,null,A(g.value,p=>(_(),$("div",{key:p.alias,class:"mapping-item"},[t("span",{class:"mapping-alias",onClick:H(j=>K(J)(p.alias),["stop"])},P(p.alias),9,Be),e[16]||(e[16]=t("span",{class:"ri-arrow-right-line"},null,-1)),t("span",Fe,P(p.code),1)]))),128))]),e[19]||(e[19]=t("div",{class:"sub-name"},[t("span",null,"国别码默认映射"),t("span",{class:"sub-desc"},"(*没有指定location的节点以此为映射，没有在下面的国别码不显示)")],-1)),t("div",Ye,[(_(!0),$(N,null,A(C.value,p=>(_(),$("div",{key:p.alias,class:"mapping-item"},[t("span",Ge,P(p.alias),1),e[17]||(e[17]=t("span",{class:"ri-arrow-right-line"},null,-1)),t("span",We,P(p.code),1)]))),128))])]),t("div",He,[t("div",Xe,[e[20]||(e[20]=t("div",{class:"left-box"},[t("div",{class:"mode-name"},[t("span",{class:"name-label"},"自定义地点")])],-1)),t("div",Ke,[t("div",Je,[c(q,{modelValue:v.value,"onUpdate:modelValue":e[6]||(e[6]=p=>v.value=p),size:"small","inline-prompt":"","active-text":"显示","inactive-text":"隐藏"},null,8,["modelValue"])])])]),t("div",qe,[(_(!0),$(N,null,A(h.value,p=>(_(),$("div",{key:p.key,class:"location-item"},[t("div",Ie,[e[21]||(e[21]=t("span",{class:"custom-point"},[t("span",{class:"point-dot"})],-1)),t("span",Ze,P(p.name),1),t("span",{class:"location-code",onClick:H(j=>K(J)(p.code),["stop"])},P(p.code),9,Qe)]),t("div",et,[t("span",{class:"edit-btn",onClick:j=>E(p)},e[22]||(e[22]=[t("span",{class:"ri-edit-2-line"},null,-1)]),8,tt),t("span",{class:"remove-btn",onClick:j=>L(p.key)},e[23]||(e[23]=[t("span",{class:"ri-close-circle-fill"},null,-1)]),8,ot)])]))),128))])]),c(xe,{ref_key:"customPointEditDialogRef",ref:w,onSuccess:B},null,512)])}}},lt=R(at,[["__scopeId","data-v-89d267d2"]]),ee={title:"哪吒监控",freeAmount:"白嫖",infinityCycle:"无限",buyBtnText:"购买",listServerStatusType:"progress",detailServerStatusType:"progress",disableSarasaTermSC:!1,hideWorldMap:!1,hideHomeWorldMap:!1,hideDetailWorldMap:!1,hideNavbarServerCount:!1,hideNavbarServerStat:!1,hideListItemStatusDonut:!1,hideListItemStat:!1,hideListItemBill:!1,hideFilter:!1,hideTag:!1,hideDotBG:!1,nezhaVersion:"v1",apiMonitorPath:"/api/v1/monitor/{id}",wsPath:"/ws",nezhaPath:"/nezha/",nezhaV0ConfigType:"servers",v1ApiMonitorPath:"/api/v1/service/{id}",v1WsPath:"/api/v1/ws/server",v1ApiGroupPath:"/api/v1/server-group",v1ApiSettingPath:"/api/v1/setting",v1ApiProfilePath:"/api/v1/profile",v1DashboardUrl:"/dashboard",v1HideNezhaDashboardBtn:!1,routeMode:"h5"},nt={title:{label:"网站标题",placeholder:"请输入网站标题",remark:"默认显示为“哪吒探针”",type:"input",v1customCode:!0},freeAmount:{label:"免费的叫啥",placeholder:"请输入免费服务的费用名称",remark:"默认显示为“免费”，万一你想叫它“白嫖”呢？",type:"input",v1customCode:!0},buyBtnText:{label:"购买按钮文案",placeholder:"请输入购买按钮文案",remark:"默认显示为“购买”，万一你想叫它“下单”呢？",type:"input",v1customCode:!0},infinityCycle:{label:"无限周期名称",placeholder:"请输入无限周期名称",remark:"默认显示为“无限”，万一你想叫它“永久”呢？",type:"input",v1customCode:!0},listServerStatusType:{label:"列表状态类型",placeholder:"请选择列表状态类型",remark:"列表项的状态类型",type:"select",options:[{label:"圆环饼图(donut) - 默认",value:"donut"},{label:"进度条(progress)",value:"progress"}],v1customCode:!0},detailServerStatusType:{label:"详情状态类型",placeholder:"请选择详情状态类型",remark:"详情页的状态类型",type:"select",options:[{label:"圆环饼图(donut) - 默认",value:"donut"},{label:"进度条(progress)",value:"progress"}],v1customCode:!0},disableSarasaTermSC:{label:"禁用内置字体",type:"switch",remark:"禁用Sarasa Term SC字体",v1customCode:!0},hideWorldMap:{label:"隐藏地图",type:"switch",remark:"隐藏地图后，首页和详情页都不会显示地图",v1customCode:!0},hideHomeWorldMap:{label:"首页隐藏地图",type:"switch",v1customCode:!0},hideDetailWorldMap:{label:"详情页隐藏地图",type:"switch",v1customCode:!0},hideNavbarServerCount:{label:"隐藏服务器数量",type:"switch",remark:"隐藏导航栏的服务器数量统计",v1customCode:!0},hideNavbarServerStat:{label:"隐藏服务器统计",type:"switch",remark:"隐藏导航栏的服务器统计信息",v1customCode:!0},hideListItemStatusDonut:{label:"隐藏列表饼图",remark:"隐藏列表项的状态饼图，不影响详情页的状态饼图",type:"switch",v1customCode:!0},hideListItemStat:{label:"隐藏列表统计",remark:"隐藏列表项的统计信息，不影响详情页的统计信息",type:"switch",v1customCode:!0},hideListItemBill:{label:"隐藏列表账单",remark:"隐藏列表项的账单信息，不影响详情页的账单信息",type:"switch",v1customCode:!0},hideFilter:{label:"隐藏筛选",remark:"隐藏列表页的标签和在线/离线筛选功能",type:"switch",v1customCode:!0},hideTag:{label:"隐藏标签",remark:"隐藏列表项的标签筛选功能",type:"switch",v1customCode:!0},hideDotBG:{label:"隐藏点阵背景",type:"switch",remark:"隐藏盒子里面的点阵背景",v1customCode:!0},nezhaVersion:{label:"哪吒版本",placeholder:"请选择哪吒版本",remark:"哪吒探针的版本，目前仅支持v0和v1，默认为v0",type:"select",options:[{label:"v0 - 默认",value:"v0"},{label:"v1",value:"v1"}]},apiMonitorPath:{label:"监控API地址",placeholder:"请输入网络服务监控API路径",remark:"主要是网络服务那个监控数据的读取，目前只会替换关键词 {id}",type:"input"},wsPath:{label:"WS服务地址",placeholder:"请输入WebSocket服务的路径",remark:"如果ws不可用，无法实时更新数据",type:"input"},nezhaPath:{label:"哪吒主页地址",placeholder:"请输入哪吒的路径",remark:"v0哪吒探针主页的地址，用于异步读取公开的节点信息，如果不可用无法读取“公开备注”",type:"input"},nezhaV0ConfigType:{label:"数据匹配关键词",placeholder:"请输入哪吒v0数据匹配关键词",remark:"v0哪吒主页上的数据匹配关键词，[ServerStatus、Default]主题是 servers，其它是 initData",type:"input",options:[{label:"servers",value:"servers",remark:"ServerStatus、Default主题"},{label:"initData",value:"initData",remark:"其它主题"}]},v1ApiMonitorPath:{label:"v1监控API地址",placeholder:"请输入v1网络服务监控API路径",remark:"主要是网络服务那个监控数据的读取，目前只会替换关键词 {id}",type:"input"},v1WsPath:{label:"v1WS服务地址",placeholder:"请输入v1WebSocket服务的路径",remark:"如果ws不可用，无法实时更新数据",type:"input"},v1ApiGroupPath:{label:"v1服务器组API地址",placeholder:"请输入v1服务器组API路径",remark:"v1版本的服务器组API",type:"input"},v1ApiSettingPath:{label:"v1设置API地址",placeholder:"请输入v1设置API路径",remark:"v1版本的设置API",type:"input"},v1ApiProfilePath:{label:"v1用户信息地址",placeholder:"请输入v1用户信息API路径",remark:"v1版本的用户信息API",type:"input"},v1DashboardUrl:{label:"v1控制台地址",placeholder:"请输入v1控制台地址",remark:"v1版本的控制台地址，默认为 /dashboard",type:"input",v1customCode:!0},v1HideNezhaDashboardBtn:{label:"隐藏控制台按钮",type:"switch",remark:"隐藏导航栏的控制台入口/登录按钮",v1customCode:!0},routeMode:{label:"路由模式",placeholder:"请选择路由模式",remark:"默认为h5，如果是hash模式，需要后端支持",type:"select",options:[{label:"h5",value:"h5",remark:"H5路由模式"},{label:"hash",value:"hash",remark:"Hash路由模式"}]}};function st(){const n=localStorage.getItem("nazhua-custom-config");if(n)try{return JSON.parse(n)}catch{return localStorage.removeItem("nazhua-custom-config"),{}}return{}}function rt(n){n&&localStorage.setItem("nazhua-custom-config",JSON.stringify(n))}const it={class:"config-box"},ut={class:"nezha-v1-dashboard-custom-code-group"},ct={class:"config-el-form-item-group"},dt={class:"enable-config-switch"},pt={class:"config-el-form-item-group--content"},mt={class:"autocomplete-option"},ft={class:"value"},vt={class:"desc"},ht={key:0,class:"config-el-form-item--remark"},yt={__name:"config-box",setup(n,{expose:m}){const u=ae(),d=V({}),f=V([]),v=V({}),w=T({get:()=>u.state.v1CustomCode,set:a=>{u.commit("SET_V1_CUSTOM_CODE",a)}});function r(){const a={},o=[];Object.keys(ee).forEach(i=>{const s=nt[i];s&&(a[i]=ee[i],v.value[i]=!1,o.push({prop:i,...s}))}),d.value=a,f.value=o}let g=null;function C(){g&&clearTimeout(g);const a={formData:d.value,enable:v.value};g=setTimeout(()=>{rt(a)},1e3)}let h=!1;le([d,v],()=>{h&&C()},{deep:!0});async function S(){await oe.confirm("确定要还原默认配置吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>!0).catch(()=>!1)&&(h=!1,r(),ce(()=>{h=!0}))}return ue(()=>{r();const a=st();a&&(Object.keys((a==null?void 0:a.formData)||{}).forEach(o=>{O.hasOwn(v.value,o)&&(d.value[o]=a.formData[o])}),Object.keys((a==null?void 0:a.enable)||{}).forEach(o=>{O.hasOwn(v.value,o)&&(v.value[o]=a.enable[o])})),h=!0}),m({getData(){const a={};return f.value.forEach(o=>{w.value&&!o.v1customCode||v.value[o.prop]&&(a[o.prop]=d.value[o.prop])}),a}}),(a,o)=>{const i=k("el-switch"),s=k("el-autocomplete"),b=k("el-input"),M=k("el-option"),E=k("el-select"),L=k("el-form-item"),B=k("el-button"),l=k("el-form");return _(),$("div",it,[t("span",ut,[o[1]||(o[1]=t("span",null,"是否用于哪吒V1控制台自定义代码？",-1)),c(i,{modelValue:w.value,"onUpdate:modelValue":o[0]||(o[0]=e=>w.value=e),"inline-prompt":"","active-text":"是","inactive-text":"否"},null,8,["modelValue"])]),c(l,{model:d.value,"label-width":"150px"},{default:y(()=>[(_(!0),$(N,null,A(f.value,e=>(_(),$(N,{key:e.prop},[!w.value||e.v1customCode?(_(),z(L,{key:0,label:e.label,prop:e.prop},{default:y(()=>[t("div",ct,[t("div",dt,[c(i,{modelValue:v.value[e.prop],"onUpdate:modelValue":x=>v.value[e.prop]=x,"inline-prompt":"","active-text":"启用","inactive-text":"禁用"},null,8,["modelValue","onUpdate:modelValue"])]),t("div",pt,[e.type==="input"&&e.options?(_(),z(s,{key:0,modelValue:d.value[e.prop],"onUpdate:modelValue":x=>d.value[e.prop]=x,placeholder:e.placeholder,"fetch-suggestions":e.options},{default:y(({item:x})=>[t("div",mt,[t("div",ft,P(x.value),1),t("span",vt,P(x.label)+P(x.remark),1)])]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","fetch-suggestions"])):e.type==="input"?(_(),z(b,{key:1,modelValue:d.value[e.prop],"onUpdate:modelValue":x=>d.value[e.prop]=x,placeholder:e.placeholder},null,8,["modelValue","onUpdate:modelValue","placeholder"])):e.type==="select"?(_(),z(E,{key:2,modelValue:d.value[e.prop],"onUpdate:modelValue":x=>d.value[e.prop]=x,placeholder:e.placeholder},{default:y(()=>[(_(!0),$(N,null,A(e.options,x=>(_(),z(M,{key:x.value,label:x.label,value:x.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])):e.type==="switch"?(_(),z(i,{key:3,modelValue:d.value[e.prop],"onUpdate:modelValue":x=>d.value[e.prop]=x},null,8,["modelValue","onUpdate:modelValue"])):F("",!0)]),e.remark?(_(),$("div",ht," Tips: "+P(e.remark),1)):F("",!0)])]),_:2},1032,["label","prop"])):F("",!0)],64))),128)),c(L,null,{default:y(()=>[c(B,{type:"warning",onClick:S},{default:y(()=>o[2]||(o[2]=[U(" 还原默认配置 ")])),_:1})]),_:1})]),_:1},8,["model"])])}}},_t=R(yt,[["__scopeId","data-v-06f90da3"]]),bt={class:"export-box"},gt={class:"config-box"},xt={class:"config-textarea-box"},Ct={class:"config-textarea-operate"},kt={class:"left-box"},wt={class:"right-box"},St={__name:"export-box",props:{refreshData:{type:Function,default:()=>{}}},setup(n,{expose:m}){const u=n,d=ae(),f=T(()=>d.state.v1CustomCode),v=V(!1),w=V(),r=V("");function g(o,i=""){let s=`{
`;return Object.entries(o).forEach(([b,M])=>{let E=M;if(typeof M=="object"){s+=`${i}  ${b}: ${g(E,`${i}  `)},
`;return}typeof M=="string"&&(E=`'${M}'`),typeof M=="boolean"&&(E=M?"true":"false"),!(typeof M>"u")&&(s+=`${i}  ${b}: ${E},
`)}),s+=`${i}}`,s}function C(o){w.value=o;const i=g(o);f.value?r.value=`<script>
window.$mergeNazhuaConfig && window.$mergeNazhuaConfig(${i});
&lt;/script>`.replace("&lt;/","</"):r.value=`window.$$nazhuaConfig = ${i};`,v.value=!1,setTimeout(()=>{v.value=!0},300)}function h(){const o=document.createElement("textarea");o.value=r.value,document.body.appendChild(o),o.select(),document.execCommand("Copy"),document.body.removeChild(o),Y.success("复制成功")}function S(){const o=new Blob([r.value],{type:"text/plain"}),i=URL.createObjectURL(o),s=document.createElement("a");s.href=i,s.download="config.js",s.click(),URL.revokeObjectURL(i)}function a(){var i;const o=(i=u==null?void 0:u.refreshData)==null?void 0:i.call(u);o&&C(o)}return le(()=>f.value,()=>{a()}),m({setData(o){C(o)}}),(o,i)=>{const s=k("highlightjs"),b=k("el-button");return _(),$("div",bt,[t("div",gt,[t("div",xt,[v.value?(_(),z(s,{key:0,language:"js",code:r.value},null,8,["code"])):F("",!0)]),t("div",Ct,[t("div",kt,[c(b,{type:"success",plain:"",onClick:h},{default:y(()=>i[0]||(i[0]=[U(" 复制内容 ")])),_:1}),f.value?F("",!0):(_(),z(b,{key:0,type:"primary",plain:"",onClick:S},{default:y(()=>i[1]||(i[1]=[U(" 下载文件 ")])),_:1}))]),t("div",wt,[c(b,{type:"danger",plain:"",onClick:a},{default:y(()=>i[2]||(i[2]=[U(" 重载配置 ")])),_:1})])])])])}}},Vt=R(St,[["__scopeId","data-v-de594a05"]]),Mt={class:"home-page"},$t={class:"home-container container"},Pt={__name:"home",setup(n){const m=V("mapPoint"),u=V(null),d=V(null),f=V(null);function v(){var C,h,S,a;const r=(h=(C=u.value)==null?void 0:C.getData)==null?void 0:h.call(C),g=(a=(S=d.value)==null?void 0:S.getData)==null?void 0:a.call(S);return r!=null&&r.customCodeMap&&Object.keys(r.customCodeMap).length&&(g.customCodeMap=r==null?void 0:r.customCodeMap),g}function w(){var r,g;m.value==="exportConfig"&&((g=(r=f.value)==null?void 0:r.setData)==null||g.call(r,v()))}return(r,g)=>{const C=k("el-tab-pane"),h=k("el-tabs");return _(),$("div",Mt,[g[1]||(g[1]=t("div",{class:"home-header"},[t("div",{class:"home-header-container container"},[t("div",{class:"left-box"},[t("h1",{class:"site-name"},"Nazhua配置生成器")]),t("div",{class:"right-box"},[t("a",{class:"github-link",href:"https://github.com/hi2shark/nazhua",_target:"blank"}," Github ")])])],-1)),t("div",$t,[c(h,{modelValue:m.value,"onUpdate:modelValue":g[0]||(g[0]=S=>m.value=S),onTabChange:w},{default:y(()=>[c(C,{label:"地图坐标拾取",name:"mapPoint"},{default:y(()=>[c(lt,{ref_key:"worldMapBoxRef",ref:u},null,512)]),_:1}),c(C,{label:"自定义配置",name:"customConfig"},{default:y(()=>[c(_t,{ref_key:"configBoxRef",ref:d},null,512)]),_:1}),c(C,{label:"导出配置",name:"exportConfig"},{default:y(()=>[c(Vt,{ref_key:"exportBoxRef",ref:f,"refresh-data":v},null,512)]),_:1})]),_:1},8,["modelValue"])])])}}},Tt=R(Pt,[["__scopeId","data-v-b145fd66"]]);export{Tt as default};
