import{E as F,r as M,c as N,o as _,a as V,b as t,n as le,d as te,e as d,w as v,F as A,f as U,g as D,T as ne,h as C,i as z,t as P,j as W,k as se,u as X,l as oe,m as re,p as ie,q as J,s as ue}from"./index-DoD5gCWs.js";const H={PEK:{x:1025,y:178,name:"北京",country:"中国"},PVG:{x:1057,y:225,name:"上海",country:"中国"},CKG:{x:1010,y:235,name:"重庆",country:"中国"},TFU:{x:1e3,y:230,name:"成都",country:"中国"},HKG:{x:1039,y:263,name:"香港",country:"中国"},MFM:{x:1035,y:264,name:"澳门",country:"中国"},TPE:{x:1067,y:253,name:"台北",country:"中国"},OSA:{x:1109,y:207,name:"大阪",country:"日本"},TYO:{x:1124,y:199,name:"东京",country:"日本"},SEL:{x:1077,y:198,name:"首尔",country:"韩国"},SIN:{x:1e3,y:354,name:"新加坡",country:"新加坡"},JHB:{x:997,y:350,name:"新山",country:"马来西亚"},KUL:{x:990,y:345,name:"吉隆坡",country:"马来西亚"},HAN:{x:998,y:274,name:"河内",country:"越南"},SGN:{x:1015,y:314,name:"胡志明市",country:"越南"},LAX:{x:95,y:207,name:"洛杉矶",country:"美国"},LAS:{x:98,y:198,name:"拉斯维加斯",country:"美国"},SLC:{x:111,y:189,name:"盐湖城",country:"美国"},SJC:{x:87,y:193,name:"圣何塞",country:"美国"},SEA:{x:118,y:143,name:"西雅图",country:"美国"},MIA:{x:243,y:244,name:"迈阿密",country:"美国"},ORD:{x:233,y:175,name:"芝加哥",country:"美国"},NYC:{x:280,y:179,name:"纽约",country:"美国"},YYZ:{x:267,y:161,name:"多伦多",country:"加拿大"},SYD:{x:1167,y:519,name:"悉尼",country:"澳大利亚"},AMS:{x:595,y:125,name:"阿姆斯特丹",country:"荷兰"},LON:{x:571,y:127,name:"伦敦",country:"英国"},FRA:{x:603,y:137,name:"法兰克福",country:"德国"},LUX:{x:591,y:140,name:"卢森堡",country:"卢森堡"},CDG:{x:579,y:145,name:"巴黎",country:"法国"},SVO:{x:704,y:115,name:"莫斯科",country:"俄罗斯"},OTP:{x:673,y:160,name:"布加勒斯特",country:"罗马尼亚"},IST:{x:676,y:176,name:"伊斯坦布尔",country:"土耳其"}},I={SGP:"SIN",ICN:"SEL",NRT:"TYO",HND:"TYO",KIX:"OSA",PAR:"CDG",MOW:"SVO",CHI:"ORD",SHA:"PVG",CAN:"CKG",CTU:"TFU",BJS:"PEK",HK:"HKG",MO:"MFM",TW:"TPE"},Z={JP:"TYO",SG:"SIN",KR:"SEL",MY:"KUL",VN:"HAN",TR:"IST",RO:"OTP",LU:"LUX",FR:"CDG",RU:"SVO",DE:"FRA",NL:"AMS",UK:"LON",GB:"LON",AU:"SYD",US:"LAX"},ce=()=>{var n;if((n=crypto)!==null&&n!==void 0&&n.randomUUID)return crypto.randomUUID();let f=new Date().getTime(),l=typeof performance<"u"&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,b=>{let i=Math.random()*16;return f>0?(i=(f+i)%16|0,f=Math.floor(f/16)):(i=(l+i)%16|0,l=Math.floor(l/16)),(b==="x"?i:i&3|8).toString(16)})},K=n=>{const f=document.createElement("textarea");f.value=n,document.body.appendChild(f),f.select(),document.execCommand("Copy"),document.body.removeChild(f),n.length<10?F.success(`复制"${n}"成功`):F.success("复制成功")};function de(){const n=localStorage.getItem("nazhua-custom-location");if(n)try{return JSON.parse(n)}catch{return localStorage.removeItem("nazhua-custom-location"),[]}return[]}function Q(n){n&&localStorage.setItem("nazhua-custom-location",JSON.stringify(n))}const O={isSet(n){return n!=null},isEmpty(n,f=null){let l=!1,b=!1,i=!1;if(f===!0)l=!0;else{const g=f||{};l=g.allEmpty,b=g.objectEmpty,i=g.arrayEmpty}return!!(n==null||n.constructor.name==="String"&&n===""||(l||b)&&n.constructor.name==="Object"&&Object.getOwnPropertyNames(n).length===0||(l||i)&&Array.isArray(n)&&n.length===0)},isObject(n){return typeof n=="object"&&n!==null&&n.constructor.name==="Object"},isNumber(n,f=!1){return f&&typeof n=="string"?!Number.isNaN(Number(n)):typeof n=="number"},hasOwn(n,f){return Object.prototype.hasOwnProperty.call(n,f)}},L=(n,f)=>{const l=n.__vccOpts||n;for(const[b,i]of f)l[b]=i;return l},pe=["title"],me={__name:"world-map-point",props:{info:{type:Object,default:()=>({})}},emits:["point-tap"],setup(n,{emit:f}){const l=n,b=f,i=M(),g=N(()=>{var h;const u={};return u["--map-point-left"]=`${l.info.left}px`,u["--map-point-top"]=`${l.info.top}px`,(h=l.info)!=null&&h.size&&(u["--map-point-size"]=`${l.info.size}px`),u});function S(){b("point-tap",l.info)}return(u,h)=>{var w,a;return _(),V("div",{ref_key:"pointRef",ref:i,class:le(["world-map-point","world-map-point--"+(((w=n.info)==null?void 0:w.type)||"default")]),style:te(g.value),title:((a=n.info)==null?void 0:a.label)||"",onClick:S},h[0]||(h[0]=[t("div",{class:"point-block"},null,-1)]),14,pe)}}},fe=L(me,[["__scopeId","data-v-e834ec66"]]),ve={__name:"world-map",props:{width:{type:[Number,String],default:null},height:{type:[Number,String],default:null},locations:{type:Array,default:()=>[]}},emits:["point-coord","select-coord","mouse-coord"],setup(n,{emit:f}){const l=n,b=f,i=M(null),g=N(()=>{if(!O.isEmpty(l.width)&&!O.isEmpty(l.height))return{width:1280,height:621};const r=Number(l.width),p=Number(l.height);return!O.isEmpty(l.width)&&O.isEmpty(l.height)?{width:r,height:Math.ceil(621/1280*r)}:O.isEmpty(l.width)&&!O.isEmpty(l.height)?{width:Math.ceil(1280/621*p),height:p}:r/p>1280/621?{width:Math.ceil(p*(1280/621)),height:p}:{width:r,height:Math.ceil(r*(621/1280))}}),S=N(()=>({width:g.value.width/1280,height:g.value.height/621})),u=N(()=>{const r={};return r["--world-map-width"]=`${g.value.width}px`,r["--world-map-height"]=`${g.value.height}px`,r}),h=N(()=>l.locations.map(r=>({...r,key:r.key,left:g.value.width/1280*r.x,top:g.value.height/621*r.y,size:r.size||4,label:r.label})));function w(r){const p=Math.max(Math.round(r.offsetX/S.value.width),0),x=Math.max(Math.round(r.offsetY/S.value.height),0);b("select-coord",{x:p,y:x})}function a(r){const p=Math.max(Math.round(r.offsetX/S.value.width),0),x=Math.max(Math.round(r.offsetY/S.value.height),0);b("mouse-coord",{x:p,y:x})}function s(r){const p={x:r.left-r.size/2,y:r.top-r.size};console.log(p),b("point-coord",p)}return(r,p)=>(_(),V("div",{ref_key:"worldMapImgRef",ref:i,class:"world-map-group",style:te(u.value),onClick:w,onMousemove:a},[p[0]||(p[0]=t("div",{class:"world-map-img"},null,-1)),d(ne,{name:"point",tag:"div",class:"world-map-point-container"},{default:v(()=>[(_(!0),V(A,null,U(h.value,x=>(_(),D(fe,{key:x.key,info:x,onPointTap:s},null,8,["info"]))),128))]),_:1})],36))}},he=L(ve,[["__scopeId","data-v-d3800f5a"]]),ye={class:"el-form-group"},_e={class:"dialog-footer"},be={__name:"custom-point-edit-dialog",emits:["success"],setup(n,{expose:f,emit:l}){const b=l,i=M(!1),g=M(null),S=()=>({code:"",name:"",country:"",x:"",y:""}),u=M(S()),h={name:[{required:!0,message:"请输入名称",trigger:["change","blur"]}],code:[{required:!0,message:"请输入唯一编码",trigger:["change","blur"]}],x:[{required:!0,trigger:["change","blur"],validator:(x,c,k)=>O.isEmpty(c)?k(new Error("请输入X轴坐标")):O.isNumber(c)?c<0||c>1280?k(new Error("X轴坐标范围为0-1280")):k():k(new Error("X轴坐标必须为数字值"))}],y:[{required:!0,trigger:["change","blur"],validator:(x,c,k)=>O.isEmpty(c)?k(new Error("请输入Y轴坐标")):O.isNumber(c)?c<0||c>621?k(new Error("Y轴坐标范围为0-621")):k():k(new Error("Y轴坐标必须为数字值"))}]};let w,a,s;function r(){g.value.validate(x=>{if(x){const c=JSON.parse(JSON.stringify(u.value));if(typeof s=="function"&&!s(c))return;b("success",{data:c,info:a,type:w}),i.value=!1}})}function p(x,c,k){w=x,a=c,s=k,u.value=S(),Object.keys(u.value).forEach($=>{O.hasOwn(c,$)&&(u.value[$]=c[$])}),i.value=!0}return f({active:p}),(x,c)=>{const k=C("el-input"),$=C("el-form-item"),B=C("el-form"),R=C("el-button"),y=C("el-dialog");return _(),D(y,{modelValue:i.value,"onUpdate:modelValue":c[6]||(c[6]=o=>i.value=o),title:"自定义地图点",width:"400px","align-center":"","append-to-body":"","destroy-on-close":"","close-on-click-modal":!1},{footer:v(()=>[t("div",_e,[d(R,{onClick:c[5]||(c[5]=o=>i.value=!1)},{default:v(()=>c[7]||(c[7]=[z("取 消")])),_:1}),d(R,{type:"primary",onClick:r},{default:v(()=>c[8]||(c[8]=[z(" 确 定 ")])),_:1})])]),default:v(()=>[d(B,{ref_key:"pointFormRef",ref:g,model:u.value,rules:h,"label-width":"80px"},{default:v(()=>[t("div",ye,[d($,{label:"X轴",prop:"x"},{default:v(()=>[d(k,{modelValue:u.value.x,"onUpdate:modelValue":c[0]||(c[0]=o=>u.value.x=o),modelModifiers:{number:!0},type:"number",placeholder:"请输入X轴坐标"},null,8,["modelValue"])]),_:1}),d($,{label:"Y轴",prop:"y","label-width":"50px"},{default:v(()=>[d(k,{modelValue:u.value.y,"onUpdate:modelValue":c[1]||(c[1]=o=>u.value.y=o),modelModifiers:{number:!0},type:"number",placeholder:"请输入Y轴坐标"},null,8,["modelValue"])]),_:1})]),d($,{label:"唯一编码",prop:"code"},{default:v(()=>[d(k,{modelValue:u.value.code,"onUpdate:modelValue":c[2]||(c[2]=o=>u.value.code=o),placeholder:"请输入唯一编码",clearable:""},null,8,["modelValue"])]),_:1}),d($,{label:"地点名称",prop:"name"},{default:v(()=>[d(k,{modelValue:u.value.name,"onUpdate:modelValue":c[3]||(c[3]=o=>u.value.name=o),placeholder:"请输入名称",clearable:""},null,8,["modelValue"])]),_:1}),d($,{label:"国家地区",prop:"country"},{default:v(()=>[d(k,{modelValue:u.value.country,"onUpdate:modelValue":c[4]||(c[4]=o=>u.value.country=o),placeholder:"请输入国家地区, 可选",clearable:""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])}}},ge=L(be,[["__scopeId","data-v-5ee884d2"]]),xe={class:"world-map-box"},ke={class:"world-map-and-coord-group"},Ce={class:"map-operate"},Se={class:"coord-box"},we={class:"el-form-group"},Me={class:"coord-temp-list"},Ve=["onClick"],$e={class:"location-info"},Pe={class:"location-name"},Oe={class:"location-operate"},Te=["onClick"],Ee={class:"default-location-group"},De={class:"operate-box"},Ne={class:"right-box"},ze={class:"show-default-location-to-map"},Ae={class:"location-list"},Ue={class:"location-name"},Le=["onClick"],Re={class:"mapping-list"},je=["onClick"],Be={class:"mapping-code"},Fe={class:"mapping-list"},Ye={class:"mapping-alias"},Ge={class:"mapping-code"},We={class:"custom-location-group"},He={class:"operate-box"},Xe={class:"right-box"},Ke={class:"show-custom-location-to-map"},Je={class:"location-list"},qe={class:"location-item-info"},Ie={class:"location-name"},Ze=["onClick"],Qe={class:"location-item-operate"},et=["onClick"],tt=["onClick"],ot={__name:"world-map-box",setup(n,{expose:f}){const l=M(1024);function b(o){let e=l.value;o==="zoomIn"?(e+=128,e=Math.min(e,3072)):o==="zoomOut"?(e-=128,e=Math.max(e,1024)):e=1024,l.value=e}const i=M(!0),g=M(!0),S=M(null),u=N(()=>Object.keys(H).map(o=>({...H[o],type:"default",key:o,code:o,size:4,label:`[${o}] - ${H[o].country}，${H[o].name}`}))),h=N(()=>Object.keys(I).map(o=>({alias:o,code:I[o]}))),w=N(()=>Object.keys(Z).map(o=>({alias:o,code:Z[o]}))),a=M(de()),s=M([]),r=N(()=>{const o=[];return i.value&&o.push(...u.value),o.push(...a.value),o.push(...s.value),o}),p=M({x:0,y:0});function x(o){p.value={x:o.x,y:o.y}}function c(o){p.value={x:o.x,y:o.y},s.value.push({x:o.x,y:o.y,type:"temp",key:ce(),size:4,label:`X:${o.x}，Y${o.y}`})}function k(o){s.value=s.value.filter(e=>e.key!==o)}function $(o){S.value.active("add",o,e=>a.value.some(E=>E.code===e.code)?(F.error("编码已存在"),!1):!0)}function B(o){S.value.active("edit",o,e=>a.value.length>1&&a.value.some(E=>E.code===e.code&&E.code!==o.code)?(F.error("编码重复，需要唯一"),!1):!0)}async function R(o){await oe.confirm("确定删除该自定义地点吗？").then(()=>!0).catch(()=>!1)&&(a.value=a.value.filter(T=>T.key!==o),Q(a.value))}function y(o){const{data:e,type:T,info:E}=o;if(T==="add")a.value.push({key:e.code,type:"custom",code:e.code,name:e.name,country:e.country,x:e.x,y:e.y,size:4,label:`[${e.code}] - ${e.country}，${e.name}`}),k(E.key);else if(T==="edit"){const Y=a.value.findIndex(G=>G.code===E.code);a.value.splice(Y,1,{key:e.code,type:"custom",code:e.code,name:e.name,country:e.country,x:e.x,y:e.y,size:4,label:`[${e.code}] - ${e.country}，${e.name}`})}Q(a.value)}return f({getData(){const o={};return a.value.forEach(e=>{o[e.code]={name:e.name,country:e.country,x:e.x,y:e.y}}),{customCodeMap:o}}}),(o,e)=>{const T=C("el-button"),E=C("el-scrollbar"),Y=C("el-input"),G=C("el-form-item"),ae=C("el-form"),q=C("el-switch");return _(),V("div",xe,[t("div",ke,[d(E,{style:{width:"1024px",height:"497px"}},{default:v(()=>[d(he,{width:l.value,locations:r.value,onMouseCoord:x,onSelectCoord:c},null,8,["width","locations"]),t("div",Ce,[d(T,{type:"primary",size:"small",link:"",onClick:e[0]||(e[0]=m=>b("zoomIn"))},{default:v(()=>e[7]||(e[7]=[z(" 放大 ")])),_:1}),d(T,{type:"success",size:"small",link:"",onClick:e[1]||(e[1]=m=>b("zoomOut"))},{default:v(()=>e[8]||(e[8]=[z(" 缩小 ")])),_:1}),d(T,{type:"default",size:"small",link:"",onClick:e[2]||(e[2]=m=>b("reset"))},{default:v(()=>e[9]||(e[9]=[z(" 默认 ")])),_:1})])]),_:1}),t("div",Se,[e[12]||(e[12]=t("div",{class:"coord-title"},[t("span",null,"坐标记录")],-1)),d(ae,null,{default:v(()=>[t("div",we,[d(G,{label:"X轴"},{default:v(()=>[d(Y,{modelValue:p.value.x,"onUpdate:modelValue":e[3]||(e[3]=m=>p.value.x=m)},null,8,["modelValue"])]),_:1}),d(G,{label:"Y轴"},{default:v(()=>[d(Y,{modelValue:p.value.y,"onUpdate:modelValue":e[4]||(e[4]=m=>p.value.y=m)},null,8,["modelValue"])]),_:1})])]),_:1}),e[13]||(e[13]=t("p",{class:"tips"}," 点击左侧地图会记录下坐标，点击记录坐标可以创建自定义地点；*隐藏内置地点后更方便戳点点 ",-1)),d(E,{height:"340px"},{default:v(()=>[t("div",Me,[(_(!0),V(A,null,U(s.value,m=>(_(),V("div",{key:m.key,class:"location-item",onClick:j=>$(m)},[t("div",$e,[e[10]||(e[10]=t("span",{class:"location-icon"},[t("span",{class:"ri-map-pin-5-line"})],-1)),t("span",Pe," X:"+P(m.x)+"，Y:"+P(m.y),1)]),t("div",Oe,[t("span",{class:"remove-btn",onClick:W(j=>k(m.key),["stop"])},e[11]||(e[11]=[t("span",{class:"ri-close-circle-fill"},null,-1)]),8,Te)])],8,Ve))),128))])]),_:1})])]),t("div",Ee,[t("div",De,[e[14]||(e[14]=se('<div class="left-box" data-v-89d267d2><div class="mode-name" data-v-89d267d2><span class="name-label" data-v-89d267d2>内置定位地点</span><span class="name-desc" data-v-89d267d2>仅内置了几个我常见的城市定位，<span class="code-value" data-v-89d267d2>此颜色</span>的都是可用代码，点击可自动复制（吧</span></div></div>',1)),t("div",Ne,[t("div",ze,[d(q,{modelValue:i.value,"onUpdate:modelValue":e[5]||(e[5]=m=>i.value=m),size:"small","inline-prompt":"","active-text":"显示","inactive-text":"隐藏"},null,8,["modelValue"])])])]),t("div",Ae,[(_(!0),V(A,null,U(u.value,m=>(_(),V("div",{key:m.key,class:"location-item"},[e[15]||(e[15]=t("span",{class:"default-point"},[t("span",{class:"point-dot"})],-1)),t("span",Ue,P(m.name),1),t("span",{class:"location-code",onClick:W(j=>X(K)(m.code),["stop"])},P(m.code),9,Le)]))),128))]),e[18]||(e[18]=t("div",{class:"sub-name"},[t("span",null,"别名映射")],-1)),t("div",Re,[(_(!0),V(A,null,U(h.value,m=>(_(),V("div",{key:m.alias,class:"mapping-item"},[t("span",{class:"mapping-alias",onClick:W(j=>X(K)(m.alias),["stop"])},P(m.alias),9,je),e[16]||(e[16]=t("span",{class:"ri-arrow-right-line"},null,-1)),t("span",Be,P(m.code),1)]))),128))]),e[19]||(e[19]=t("div",{class:"sub-name"},[t("span",null,"国别码默认映射"),t("span",{class:"sub-desc"},"(*没有指定location的节点以此为映射，没有在下面的国别码不显示)")],-1)),t("div",Fe,[(_(!0),V(A,null,U(w.value,m=>(_(),V("div",{key:m.alias,class:"mapping-item"},[t("span",Ye,P(m.alias),1),e[17]||(e[17]=t("span",{class:"ri-arrow-right-line"},null,-1)),t("span",Ge,P(m.code),1)]))),128))])]),t("div",We,[t("div",He,[e[20]||(e[20]=t("div",{class:"left-box"},[t("div",{class:"mode-name"},[t("span",{class:"name-label"},"自定义地点")])],-1)),t("div",Xe,[t("div",Ke,[d(q,{modelValue:g.value,"onUpdate:modelValue":e[6]||(e[6]=m=>g.value=m),size:"small","inline-prompt":"","active-text":"显示","inactive-text":"隐藏"},null,8,["modelValue"])])])]),t("div",Je,[(_(!0),V(A,null,U(a.value,m=>(_(),V("div",{key:m.key,class:"location-item"},[t("div",qe,[e[21]||(e[21]=t("span",{class:"custom-point"},[t("span",{class:"point-dot"})],-1)),t("span",Ie,P(m.name),1),t("span",{class:"location-code",onClick:W(j=>X(K)(m.code),["stop"])},P(m.code),9,Ze)]),t("div",Qe,[t("span",{class:"edit-btn",onClick:j=>B(m)},e[22]||(e[22]=[t("span",{class:"ri-edit-2-line"},null,-1)]),8,et),t("span",{class:"remove-btn",onClick:j=>R(m.key)},e[23]||(e[23]=[t("span",{class:"ri-close-circle-fill"},null,-1)]),8,tt)])]))),128))])]),d(ge,{ref_key:"customPointEditDialogRef",ref:S,onSuccess:y},null,512)])}}},at=L(ot,[["__scopeId","data-v-89d267d2"]]),ee={title:"哪吒监控",freeAmount:"白嫖",infinityCycle:"无限",buyBtnText:"购买",listServerStatusType:"progress",detailServerStatusType:"progress",disableSarasaTermSC:!1,hideWorldMap:!1,hideHomeWorldMap:!1,hideDetailWorldMap:!1,hideNavbarServerCount:!1,hideNavbarServerStat:!1,hideListItemStatusDonut:!1,hideListItemStat:!1,hideListItemBill:!1,hideFilter:!1,hideTag:!1,nezhaVersion:"v1",apiMonitorPath:"/api/v1/monitor/{id}",wsPath:"/ws",nezhaPath:"/nezha/",nezhaV0ConfigType:"servers",v1ApiMonitorPath:"/api/v1/service/{id}",v1WsPath:"/api/v1/ws/server",v1ApiGroupPath:"/api/v1/server-group",v1ApiSettingPath:"/api/v1/setting",v1ApiProfilePath:"/api/v1/profile",v1DashboardUrl:"/dashboard",v1HideNezhaDashboardBtn:!1,routeMode:"h5"},lt={title:{label:"网站标题",placeholder:"请输入网站标题",remark:"默认显示为“哪吒探针”",type:"input"},freeAmount:{label:"免费的叫啥",placeholder:"请输入免费服务的费用名称",remark:"默认显示为“免费”，万一你想叫它“白嫖”呢？",type:"input"},buyBtnText:{label:"购买按钮文案",placeholder:"请输入购买按钮文案",remark:"默认显示为“购买”，万一你想叫它“下单”呢？",type:"input"},infinityCycle:{label:"无限周期名称",placeholder:"请输入无限周期名称",remark:"默认显示为“无限”，万一你想叫它“永久”呢？",type:"input"},listServerStatusType:{label:"列表状态类型",placeholder:"请选择列表状态类型",remark:"列表项的状态类型",type:"select",options:[{label:"圆环饼图(donut) - 默认",value:"donut"},{label:"进度条(progress)",value:"progress"}]},detailServerStatusType:{label:"详情状态类型",placeholder:"请选择详情状态类型",remark:"详情页的状态类型",type:"select",options:[{label:"圆环饼图(donut) - 默认",value:"donut"},{label:"进度条(progress)",value:"progress"}]},disableSarasaTermSC:{label:"禁用内置字体",type:"switch",remark:"禁用Sarasa Term SC字体"},hideWorldMap:{label:"隐藏地图",type:"switch",remark:"隐藏地图后，首页和详情页都不会显示地图"},hideHomeWorldMap:{label:"首页隐藏地图",type:"switch"},hideDetailWorldMap:{label:"详情页隐藏地图",type:"switch"},hideNavbarServerCount:{label:"隐藏服务器数量",type:"switch",remark:"隐藏导航栏的服务器数量统计"},hideNavbarServerStat:{label:"隐藏服务器统计",type:"switch",remark:"隐藏导航栏的服务器统计信息"},hideListItemStatusDonut:{label:"隐藏列表饼图",remark:"隐藏列表项的状态饼图，不影响详情页的状态饼图",type:"switch"},hideListItemStat:{label:"隐藏列表统计",remark:"隐藏列表项的统计信息，不影响详情页的统计信息",type:"switch"},hideListItemBill:{label:"隐藏列表账单",remark:"隐藏列表项的账单信息，不影响详情页的账单信息",type:"switch"},hideFilter:{label:"隐藏筛选",type:"switch"},hideTag:{label:"隐藏标签",type:"switch"},nezhaVersion:{label:"哪吒版本",placeholder:"请选择哪吒版本",remark:"哪吒探针的版本，目前仅支持v0和v1，默认为v0",type:"select",options:[{label:"v0 - 默认",value:"v0"},{label:"v1",value:"v1"}]},apiMonitorPath:{label:"监控API地址",placeholder:"请输入网络服务监控API路径",remark:"主要是网络服务那个监控数据的读取，目前只会替换关键词 {id}",type:"input"},wsPath:{label:"WS服务地址",placeholder:"请输入WebSocket服务的路径",remark:"如果ws不可用，无法实时更新数据",type:"input"},nezhaPath:{label:"哪吒主页地址",placeholder:"请输入哪吒的路径",remark:"v0哪吒探针主页的地址，用于异步读取公开的节点信息，如果不可用无法读取“公开备注”",type:"input"},nezhaV0ConfigType:{label:"数据匹配关键词",placeholder:"请输入哪吒v0数据匹配关键词",remark:"v0哪吒主页上的数据匹配关键词，[ServerStatus、Default]主题是 servers，其它是 initData",type:"input",options:[{label:"servers",value:"servers",remark:"ServerStatus、Default主题"},{label:"initData",value:"initData",remark:"其它主题"}]},v1ApiMonitorPath:{label:"v1监控API地址",placeholder:"请输入v1网络服务监控API路径",remark:"主要是网络服务那个监控数据的读取，目前只会替换关键词 {id}",type:"input"},v1WsPath:{label:"v1WS服务地址",placeholder:"请输入v1WebSocket服务的路径",remark:"如果ws不可用，无法实时更新数据",type:"input"},v1ApiGroupPath:{label:"v1服务器组API地址",placeholder:"请输入v1服务器组API路径",remark:"v1版本的服务器组API",type:"input"},v1ApiSettingPath:{label:"v1设置API地址",placeholder:"请输入v1设置API路径",remark:"v1版本的设置API",type:"input"},v1ApiProfilePath:{label:"v1用户信息地址",placeholder:"请输入v1用户信息API路径",remark:"v1版本的用户信息API",type:"input"},v1DashboardUrl:{label:"v1控制台地址",placeholder:"请输入v1控制台地址",remark:"v1版本的控制台地址，默认为 /dashboard",type:"input"},v1HideNezhaDashboardBtn:{label:"隐藏控制台按钮",type:"switch",remark:"隐藏导航栏的控制台入口/登录按钮"},routeMode:{label:"路由模式",placeholder:"请选择路由模式",remark:"默认为h5，如果是hash模式，需要后端支持",type:"select",options:[{label:"h5",value:"h5",remark:"H5路由模式"},{label:"hash",value:"hash",remark:"Hash路由模式"}]}};function nt(){const n=localStorage.getItem("nazhua-custom-config");if(n)try{return JSON.parse(n)}catch{return localStorage.removeItem("nazhua-custom-config"),{}}return{}}function st(n){n&&localStorage.setItem("nazhua-custom-config",JSON.stringify(n))}const rt={class:"config-box"},it={class:"config-el-form-item-group"},ut={class:"enable-config-switch"},ct={class:"config-el-form-item-group--content"},dt={class:"autocomplete-option"},pt={class:"value"},mt={class:"desc"},ft={key:0,class:"config-el-form-item--remark"},vt={__name:"config-box",setup(n,{expose:f}){const l=M({}),b=M([]),i=M({});function g(){const a={},s=[];Object.keys(ee).forEach(r=>{const p=lt[r];p&&(a[r]=ee[r],i.value[r]=!1,s.push({prop:r,...p}))}),l.value=a,b.value=s}let S=null;function u(){S&&clearTimeout(S);const a={formData:l.value,enable:i.value};S=setTimeout(()=>{st(a)},1e3)}let h=!1;re([l,i],()=>{h&&u()},{deep:!0});async function w(){await oe.confirm("确定要还原默认配置吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>!0).catch(()=>!1)&&(h=!1,g(),ue(()=>{h=!0}))}return ie(()=>{g();const a=nt();a&&(Object.keys((a==null?void 0:a.formData)||{}).forEach(s=>{O.hasOwn(i.value,s)&&(l.value[s]=a.formData[s])}),Object.keys((a==null?void 0:a.enable)||{}).forEach(s=>{O.hasOwn(i.value,s)&&(i.value[s]=a.enable[s])})),h=!0}),f({getData(){const a={};return Object.keys(i.value).forEach(s=>{i.value[s]&&(a[s]=l.value[s])}),a}}),(a,s)=>{const r=C("el-switch"),p=C("el-autocomplete"),x=C("el-input"),c=C("el-option"),k=C("el-select"),$=C("el-form-item"),B=C("el-button"),R=C("el-form");return _(),V("div",rt,[d(R,{model:l.value,"label-width":"150px"},{default:v(()=>[(_(!0),V(A,null,U(b.value,y=>(_(),D($,{key:y.prop,label:y.label,prop:y.prop},{default:v(()=>[t("div",it,[t("div",ut,[d(r,{modelValue:i.value[y.prop],"onUpdate:modelValue":o=>i.value[y.prop]=o,"inline-prompt":"","active-text":"启用","inactive-text":"禁用"},null,8,["modelValue","onUpdate:modelValue"])]),t("div",ct,[y.type==="input"&&y.options?(_(),D(p,{key:0,modelValue:l.value[y.prop],"onUpdate:modelValue":o=>l.value[y.prop]=o,placeholder:y.placeholder,"fetch-suggestions":y.options},{default:v(({item:o})=>[t("div",dt,[t("div",pt,P(o.value),1),t("span",mt,P(o.label)+P(o.remark),1)])]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","fetch-suggestions"])):y.type==="input"?(_(),D(x,{key:1,modelValue:l.value[y.prop],"onUpdate:modelValue":o=>l.value[y.prop]=o,placeholder:y.placeholder},null,8,["modelValue","onUpdate:modelValue","placeholder"])):y.type==="select"?(_(),D(k,{key:2,modelValue:l.value[y.prop],"onUpdate:modelValue":o=>l.value[y.prop]=o,placeholder:y.placeholder},{default:v(()=>[(_(!0),V(A,null,U(y.options,o=>(_(),D(c,{key:o.value,label:o.label,value:o.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])):y.type==="switch"?(_(),D(r,{key:3,modelValue:l.value[y.prop],"onUpdate:modelValue":o=>l.value[y.prop]=o},null,8,["modelValue","onUpdate:modelValue"])):J("",!0)]),y.remark?(_(),V("div",ft," Tips: "+P(y.remark),1)):J("",!0)])]),_:2},1032,["label","prop"]))),128)),d($,null,{default:v(()=>[d(B,{type:"warning",onClick:w},{default:v(()=>s[0]||(s[0]=[z(" 还原默认配置 ")])),_:1})]),_:1})]),_:1},8,["model"])])}}},ht=L(vt,[["__scopeId","data-v-98aa85c9"]]),yt={class:"export-box"},_t={class:"config-box"},bt={class:"config-textarea-box"},gt={class:"config-textarea-operate"},xt={class:"left-box"},kt={class:"right-box"},Ct={__name:"export-box",props:{refreshData:{type:Function,default:()=>{}}},setup(n,{expose:f}){const l=n,b=M(!1),i=M("");function g(a,s=""){let r=`{
`;return Object.entries(a).forEach(([p,x])=>{let c=x;if(typeof x=="object"){r+=`${s}  ${p}: ${g(c,`${s}  `)},
`;return}typeof x=="string"&&(c=`'${x}'`),typeof x=="boolean"&&(c=x?"true":"false"),!(typeof x>"u")&&(r+=`${s}  ${p}: ${c},
`)}),r+=`${s}}`,r}function S(a){const s=`window.$$nazhuaConfig = ${g(a)};`;i.value=s,b.value=!1,setTimeout(()=>{b.value=!0},300)}function u(){const a=document.createElement("textarea");a.value=i.value,document.body.appendChild(a),a.select(),document.execCommand("Copy"),document.body.removeChild(a),F.success("复制成功")}function h(){const a=new Blob([i.value],{type:"text/plain"}),s=URL.createObjectURL(a),r=document.createElement("a");r.href=s,r.download="config.js",r.click(),URL.revokeObjectURL(s)}function w(){var s;const a=(s=l==null?void 0:l.refreshData)==null?void 0:s.call(l);a&&S(a)}return f({setData(a){S(a)}}),(a,s)=>{const r=C("highlightjs"),p=C("el-button");return _(),V("div",yt,[t("div",_t,[t("div",bt,[b.value?(_(),D(r,{key:0,language:"js",code:i.value},null,8,["code"])):J("",!0)]),t("div",gt,[t("div",xt,[d(p,{type:"success",plain:"",onClick:u},{default:v(()=>s[0]||(s[0]=[z(" 复制内容 ")])),_:1}),d(p,{type:"primary",plain:"",onClick:h},{default:v(()=>s[1]||(s[1]=[z(" 下载文件 ")])),_:1})]),t("div",kt,[d(p,{type:"danger",plain:"",onClick:w},{default:v(()=>s[2]||(s[2]=[z(" 重载配置 ")])),_:1})])])])])}}},St=L(Ct,[["__scopeId","data-v-a018bdc1"]]),wt={class:"home-page"},Mt={class:"home-container container"},Vt={__name:"home",setup(n){const f=M("mapPoint"),l=M(null),b=M(null),i=M(null);function g(){var w,a,s,r;const u=(a=(w=l.value)==null?void 0:w.getData)==null?void 0:a.call(w),h=(r=(s=b.value)==null?void 0:s.getData)==null?void 0:r.call(s);return u!=null&&u.customCodeMap&&Object.keys(u.customCodeMap).length&&(h.customCodeMap=u==null?void 0:u.customCodeMap),h}function S(){var u,h;f.value==="exportConfig"&&((h=(u=i.value)==null?void 0:u.setData)==null||h.call(u,g()),console.log("导出配置",g()))}return(u,h)=>{const w=C("el-tab-pane"),a=C("el-tabs");return _(),V("div",wt,[h[1]||(h[1]=t("div",{class:"home-header"},[t("div",{class:"home-header-container container"},[t("div",{class:"left-box"},[t("h1",{class:"site-name"},"Nazhua配置生成器")]),t("div",{class:"right-box"},[t("a",{class:"github-link",href:"https://github.com/hi2shark/nazhua",_target:"blank"}," Github ")])])],-1)),t("div",Mt,[d(a,{modelValue:f.value,"onUpdate:modelValue":h[0]||(h[0]=s=>f.value=s),onTabChange:S},{default:v(()=>[d(w,{label:"地图坐标拾取",name:"mapPoint"},{default:v(()=>[d(at,{ref_key:"worldMapBoxRef",ref:l},null,512)]),_:1}),d(w,{label:"自定义配置",name:"customConfig"},{default:v(()=>[d(ht,{ref_key:"configBoxRef",ref:b},null,512)]),_:1}),d(w,{label:"导出配置",name:"exportConfig"},{default:v(()=>[d(St,{ref_key:"exportBoxRef",ref:i,"refresh-data":g},null,512)]),_:1})]),_:1},8,["modelValue"])])])}}},Pt=L(Vt,[["__scopeId","data-v-d140ac2e"]]);export{Pt as default};
