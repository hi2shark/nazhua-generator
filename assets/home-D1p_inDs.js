import{E as F,r as S,c as z,o as _,a as $,b as t,n as ne,d as te,e as d,w as h,F as U,f as A,g as D,T as se,h as w,i as N,t as P,j as W,k as re,u as K,l as oe,m as ae,p as ie,q as X,s as ue}from"./index-47u-S43M.js";const H={PEK:{x:1025,y:178,name:"北京",country:"中国"},PVG:{x:1057,y:225,name:"上海",country:"中国"},CKG:{x:1010,y:235,name:"重庆",country:"中国"},TFU:{x:1e3,y:230,name:"成都",country:"中国"},HKG:{x:1039,y:263,name:"香港",country:"中国"},MFM:{x:1035,y:264,name:"澳门",country:"中国"},TPE:{x:1067,y:253,name:"台北",country:"中国"},OSA:{x:1109,y:207,name:"大阪",country:"日本"},TYO:{x:1124,y:199,name:"东京",country:"日本"},SEL:{x:1077,y:198,name:"首尔",country:"韩国"},SIN:{x:1e3,y:354,name:"新加坡",country:"新加坡"},JHB:{x:997,y:350,name:"新山",country:"马来西亚"},KUL:{x:990,y:345,name:"吉隆坡",country:"马来西亚"},HAN:{x:998,y:274,name:"河内",country:"越南"},SGN:{x:1015,y:314,name:"胡志明市",country:"越南"},LAX:{x:95,y:207,name:"洛杉矶",country:"美国"},LAS:{x:98,y:198,name:"拉斯维加斯",country:"美国"},SLC:{x:111,y:189,name:"盐湖城",country:"美国"},SJC:{x:87,y:193,name:"圣何塞",country:"美国"},SEA:{x:118,y:143,name:"西雅图",country:"美国"},MIA:{x:243,y:244,name:"迈阿密",country:"美国"},ORD:{x:233,y:175,name:"芝加哥",country:"美国"},NYC:{x:280,y:179,name:"纽约",country:"美国"},YYZ:{x:267,y:161,name:"多伦多",country:"加拿大"},SYD:{x:1167,y:519,name:"悉尼",country:"澳大利亚"},AMS:{x:595,y:125,name:"阿姆斯特丹",country:"荷兰"},LON:{x:571,y:127,name:"伦敦",country:"英国"},FRA:{x:603,y:137,name:"法兰克福",country:"德国"},LUX:{x:591,y:140,name:"卢森堡",country:"卢森堡"},CDG:{x:579,y:145,name:"巴黎",country:"法国"},SVO:{x:704,y:115,name:"莫斯科",country:"俄罗斯"},OTP:{x:673,y:160,name:"布加勒斯特",country:"罗马尼亚"},IST:{x:676,y:176,name:"伊斯坦布尔",country:"土耳其"}},I={SGP:"SIN",ICN:"SEL",NRT:"TYO",HND:"TYO",KIX:"OSA",PAR:"CDG",MOW:"SVO",CHI:"ORD",SHA:"PVG",CAN:"CKG",CTU:"TFU",BJS:"PEK",HK:"HKG",MO:"MFM",TW:"TPE"},Z={JP:"TYO",SG:"SIN",KR:"SEL",MY:"KUL",VN:"HAN",TR:"IST",RO:"OTP",LU:"LUX",FR:"CDG",RU:"SVO",DE:"FRA",NL:"AMS",UK:"LON",GB:"LON",AU:"SYD",US:"LAX"},ce=()=>{var n;if((n=crypto)!==null&&n!==void 0&&n.randomUUID)return crypto.randomUUID();let f=new Date().getTime(),l=typeof performance<"u"&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,x=>{let u=Math.random()*16;return f>0?(u=(f+u)%16|0,f=Math.floor(f/16)):(u=(l+u)%16|0,l=Math.floor(l/16)),(x==="x"?u:u&3|8).toString(16)})},J=n=>{const f=document.createElement("textarea");f.value=n,document.body.appendChild(f),f.select(),document.execCommand("Copy"),document.body.removeChild(f),n.length<10?F.success(`复制"${n}"成功`):F.success("复制成功")};function de(){const n=localStorage.getItem("nazhua-custom-location");if(n)try{return JSON.parse(n)}catch{return localStorage.removeItem("nazhua-custom-location"),[]}return[]}function Q(n){n&&localStorage.setItem("nazhua-custom-location",JSON.stringify(n))}const O={isSet(n){return n!=null},isEmpty(n,f=null){let l=!1,x=!1,u=!1;if(f===!0)l=!0;else{const k=f||{};l=k.allEmpty,x=k.objectEmpty,u=k.arrayEmpty}return!!(n==null||n.constructor.name==="String"&&n===""||(l||x)&&n.constructor.name==="Object"&&Object.getOwnPropertyNames(n).length===0||(l||u)&&Array.isArray(n)&&n.length===0)},isObject(n){return typeof n=="object"&&n!==null&&n.constructor.name==="Object"},isNumber(n,f=!1){return f&&typeof n=="string"?!Number.isNaN(Number(n)):typeof n=="number"},hasOwn(n,f){return Object.prototype.hasOwnProperty.call(n,f)}},L=(n,f)=>{const l=n.__vccOpts||n;for(const[x,u]of f)l[x]=u;return l},pe=["title"],me={__name:"world-map-point",props:{info:{type:Object,default:()=>({})}},emits:["point-tap"],setup(n,{emit:f}){const l=n,x=f,u=S(),k=z(()=>{var y;const c={};return c["--map-point-left"]=`${l.info.left}px`,c["--map-point-top"]=`${l.info.top}px`,(y=l.info)!=null&&y.size&&(c["--map-point-size"]=`${l.info.size}px`),c});function C(){x("point-tap",l.info)}return(c,y)=>{var V,r;return _(),$("div",{ref_key:"pointRef",ref:u,class:ne(["world-map-point","world-map-point--"+(((V=n.info)==null?void 0:V.type)||"default")]),style:te(k.value),title:((r=n.info)==null?void 0:r.label)||"",onClick:C},y[0]||(y[0]=[t("div",{class:"point-block"},null,-1)]),14,pe)}}},fe=L(me,[["__scopeId","data-v-e834ec66"]]),ve={__name:"world-map",props:{width:{type:[Number,String],default:null},height:{type:[Number,String],default:null},locations:{type:Array,default:()=>[]}},emits:["point-coord","select-coord","mouse-coord"],setup(n,{emit:f}){const l=n,x=f,u=S(null),k=z(()=>{if(!O.isEmpty(l.width)&&!O.isEmpty(l.height))return{width:1280,height:621};const a=Number(l.width),s=Number(l.height);return!O.isEmpty(l.width)&&O.isEmpty(l.height)?{width:a,height:Math.ceil(621/1280*a)}:O.isEmpty(l.width)&&!O.isEmpty(l.height)?{width:Math.ceil(1280/621*s),height:s}:a/s>1280/621?{width:Math.ceil(s*(1280/621)),height:s}:{width:a,height:Math.ceil(a*(621/1280))}}),C=z(()=>({width:k.value.width/1280,height:k.value.height/621})),c=z(()=>{const a={};return a["--world-map-width"]=`${k.value.width}px`,a["--world-map-height"]=`${k.value.height}px`,a}),y=z(()=>l.locations.map(a=>({...a,key:a.key,left:k.value.width/1280*a.x,top:k.value.height/621*a.y,size:a.size||4,label:a.label})));function V(a){const s=Math.max(Math.round(a.offsetX/C.value.width),0),g=Math.max(Math.round(a.offsetY/C.value.height),0);x("select-coord",{x:s,y:g})}function r(a){const s=Math.max(Math.round(a.offsetX/C.value.width),0),g=Math.max(Math.round(a.offsetY/C.value.height),0);x("mouse-coord",{x:s,y:g})}function p(a){const s={x:a.left-a.size/2,y:a.top-a.size};console.log(s),x("point-coord",s)}return(a,s)=>(_(),$("div",{ref_key:"worldMapImgRef",ref:u,class:"world-map-group",style:te(c.value),onClick:V,onMousemove:r},[s[0]||(s[0]=t("div",{class:"world-map-img"},null,-1)),d(se,{name:"point",tag:"div",class:"world-map-point-container"},{default:h(()=>[(_(!0),$(U,null,A(y.value,g=>(_(),D(fe,{key:g.key,info:g,onPointTap:p},null,8,["info"]))),128))]),_:1})],36))}},he=L(ve,[["__scopeId","data-v-d3800f5a"]]),ye={class:"el-form-group"},_e={class:"dialog-footer"},be={__name:"custom-point-edit-dialog",emits:["success"],setup(n,{expose:f,emit:l}){const x=l,u=S(!1),k=S(null),C=()=>({code:"",name:"",country:"",x:"",y:""}),c=S(C()),y={name:[{required:!0,message:"请输入名称",trigger:["change","blur"]}],code:[{required:!0,message:"请输入唯一编码",trigger:["change","blur"]}],x:[{required:!0,trigger:["change","blur"],validator:(g,i,v)=>O.isEmpty(i)?v(new Error("请输入X轴坐标")):O.isNumber(i)?i<0||i>1280?v(new Error("X轴坐标范围为0-1280")):v():v(new Error("X轴坐标必须为数字值"))}],y:[{required:!0,trigger:["change","blur"],validator:(g,i,v)=>O.isEmpty(i)?v(new Error("请输入Y轴坐标")):O.isNumber(i)?i<0||i>621?v(new Error("Y轴坐标范围为0-621")):v():v(new Error("Y轴坐标必须为数字值"))}]};let V,r,p;function a(){k.value.validate(g=>{if(g){const i=JSON.parse(JSON.stringify(c.value));if(typeof p=="function"&&!p(i))return;x("success",{data:i,info:r,type:V}),u.value=!1}})}function s(g,i,v){V=g,r=i,p=v,c.value=C(),Object.keys(c.value).forEach(M=>{O.hasOwn(i,M)&&(c.value[M]=i[M])}),u.value=!0}return f({active:s}),(g,i)=>{const v=w("el-input"),M=w("el-form-item"),B=w("el-form"),R=w("el-button"),b=w("el-dialog");return _(),D(b,{modelValue:u.value,"onUpdate:modelValue":i[6]||(i[6]=o=>u.value=o),title:"自定义地图点",width:"400px","align-center":"","append-to-body":"","destroy-on-close":"","close-on-click-modal":!1},{footer:h(()=>[t("div",_e,[d(R,{onClick:i[5]||(i[5]=o=>u.value=!1)},{default:h(()=>i[7]||(i[7]=[N("取 消")])),_:1}),d(R,{type:"primary",onClick:a},{default:h(()=>i[8]||(i[8]=[N(" 确 定 ")])),_:1})])]),default:h(()=>[d(B,{ref_key:"pointFormRef",ref:k,model:c.value,rules:y,"label-width":"80px"},{default:h(()=>[t("div",ye,[d(M,{label:"X轴",prop:"x"},{default:h(()=>[d(v,{modelValue:c.value.x,"onUpdate:modelValue":i[0]||(i[0]=o=>c.value.x=o),modelModifiers:{number:!0},type:"number",placeholder:"请输入X轴坐标"},null,8,["modelValue"])]),_:1}),d(M,{label:"Y轴",prop:"y","label-width":"50px"},{default:h(()=>[d(v,{modelValue:c.value.y,"onUpdate:modelValue":i[1]||(i[1]=o=>c.value.y=o),modelModifiers:{number:!0},type:"number",placeholder:"请输入Y轴坐标"},null,8,["modelValue"])]),_:1})]),d(M,{label:"唯一编码",prop:"code"},{default:h(()=>[d(v,{modelValue:c.value.code,"onUpdate:modelValue":i[2]||(i[2]=o=>c.value.code=o),placeholder:"请输入唯一编码",clearable:""},null,8,["modelValue"])]),_:1}),d(M,{label:"地点名称",prop:"name"},{default:h(()=>[d(v,{modelValue:c.value.name,"onUpdate:modelValue":i[3]||(i[3]=o=>c.value.name=o),placeholder:"请输入名称",clearable:""},null,8,["modelValue"])]),_:1}),d(M,{label:"国家地区",prop:"country"},{default:h(()=>[d(v,{modelValue:c.value.country,"onUpdate:modelValue":i[4]||(i[4]=o=>c.value.country=o),placeholder:"请输入国家地区, 可选",clearable:""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])}}},xe=L(be,[["__scopeId","data-v-5ee884d2"]]),ge={class:"world-map-box"},ke={class:"world-map-and-coord-group"},Ce={class:"map-operate"},we={class:"coord-box"},Se={class:"el-form-group"},Ve={class:"coord-temp-list"},Me=["onClick"],$e={class:"location-info"},Pe={class:"location-name"},Oe={class:"location-operate"},Te=["onClick"],Ee={class:"default-location-group"},De={class:"operate-box"},ze={class:"right-box"},Ne={class:"show-default-location-to-map"},Ue={class:"location-list"},Ae={class:"location-name"},Le=["onClick"],Re={class:"mapping-list"},je=["onClick"],Be={class:"mapping-code"},Fe={class:"mapping-list"},Ye={class:"mapping-alias"},Ge={class:"mapping-code"},We={class:"custom-location-group"},He={class:"operate-box"},Xe={class:"right-box"},Ke={class:"show-custom-location-to-map"},Je={class:"location-list"},qe={class:"location-item-info"},Ie={class:"location-name"},Ze=["onClick"],Qe={class:"location-item-operate"},et=["onClick"],tt=["onClick"],ot={__name:"world-map-box",setup(n,{expose:f}){const l=S(1024);function x(o){let e=l.value;o==="zoomIn"?(e+=128,e=Math.min(e,3072)):o==="zoomOut"?(e-=128,e=Math.max(e,1024)):e=1024,l.value=e}const u=S(!0),k=S(!0),C=S(null),c=z(()=>Object.keys(H).map(o=>({...H[o],type:"default",key:o,code:o,size:4,label:`[${o}] - ${H[o].country}，${H[o].name}`}))),y=z(()=>Object.keys(I).map(o=>({alias:o,code:I[o]}))),V=z(()=>Object.keys(Z).map(o=>({alias:o,code:Z[o]}))),r=S(de()),p=S([]),a=z(()=>{const o=[];return u.value&&o.push(...c.value),o.push(...r.value),o.push(...p.value),o}),s=S({x:0,y:0});function g(o){s.value={x:o.x,y:o.y}}function i(o){s.value={x:o.x,y:o.y},p.value.push({x:o.x,y:o.y,type:"temp",key:ce(),size:4,label:`X:${o.x}，Y${o.y}`})}function v(o){p.value=p.value.filter(e=>e.key!==o)}function M(o){C.value.active("add",o,e=>r.value.some(E=>E.code===e.code)?(F.error("编码已存在"),!1):!0)}function B(o){C.value.active("edit",o,e=>r.value.length>1&&r.value.some(E=>E.code===e.code&&E.code!==o.code)?(F.error("编码重复，需要唯一"),!1):!0)}async function R(o){await oe.confirm("确定删除该自定义地点吗？").then(()=>!0).catch(()=>!1)&&(r.value=r.value.filter(T=>T.key!==o),Q(r.value))}function b(o){const{data:e,type:T,info:E}=o;if(T==="add")r.value.push({key:e.code,type:"custom",code:e.code,name:e.name,country:e.country,x:e.x,y:e.y,size:4,label:`[${e.code}] - ${e.country}，${e.name}`}),v(E.key);else if(T==="edit"){const Y=r.value.findIndex(G=>G.code===E.code);r.value.splice(Y,1,{key:e.code,type:"custom",code:e.code,name:e.name,country:e.country,x:e.x,y:e.y,size:4,label:`[${e.code}] - ${e.country}，${e.name}`})}Q(r.value)}return f({getData(){const o={};return r.value.forEach(e=>{o[e.code]={name:e.name,country:e.country,x:e.x,y:e.y}}),{customCodeMap:o}}}),(o,e)=>{const T=w("el-button"),E=w("el-scrollbar"),Y=w("el-input"),G=w("el-form-item"),le=w("el-form"),q=w("el-switch");return _(),$("div",ge,[t("div",ke,[d(E,{style:{width:"1024px",height:"497px"}},{default:h(()=>[d(he,{width:l.value,locations:a.value,onMouseCoord:g,onSelectCoord:i},null,8,["width","locations"]),t("div",Ce,[d(T,{type:"primary",size:"small",link:"",onClick:e[0]||(e[0]=m=>x("zoomIn"))},{default:h(()=>e[7]||(e[7]=[N(" 放大 ")])),_:1}),d(T,{type:"success",size:"small",link:"",onClick:e[1]||(e[1]=m=>x("zoomOut"))},{default:h(()=>e[8]||(e[8]=[N(" 缩小 ")])),_:1}),d(T,{type:"default",size:"small",link:"",onClick:e[2]||(e[2]=m=>x("reset"))},{default:h(()=>e[9]||(e[9]=[N(" 默认 ")])),_:1})])]),_:1}),t("div",we,[e[12]||(e[12]=t("div",{class:"coord-title"},[t("span",null,"坐标记录")],-1)),d(le,null,{default:h(()=>[t("div",Se,[d(G,{label:"X轴"},{default:h(()=>[d(Y,{modelValue:s.value.x,"onUpdate:modelValue":e[3]||(e[3]=m=>s.value.x=m)},null,8,["modelValue"])]),_:1}),d(G,{label:"Y轴"},{default:h(()=>[d(Y,{modelValue:s.value.y,"onUpdate:modelValue":e[4]||(e[4]=m=>s.value.y=m)},null,8,["modelValue"])]),_:1})])]),_:1}),e[13]||(e[13]=t("p",{class:"tips"}," 点击左侧地图会记录下坐标，点击记录坐标可以创建自定义地点；*隐藏内置地点后更方便戳点点 ",-1)),d(E,{height:"340px"},{default:h(()=>[t("div",Ve,[(_(!0),$(U,null,A(p.value,m=>(_(),$("div",{key:m.key,class:"location-item",onClick:j=>M(m)},[t("div",$e,[e[10]||(e[10]=t("span",{class:"location-icon"},[t("span",{class:"ri-map-pin-5-line"})],-1)),t("span",Pe," X:"+P(m.x)+"，Y:"+P(m.y),1)]),t("div",Oe,[t("span",{class:"remove-btn",onClick:W(j=>v(m.key),["stop"])},e[11]||(e[11]=[t("span",{class:"ri-close-circle-fill"},null,-1)]),8,Te)])],8,Me))),128))])]),_:1})])]),t("div",Ee,[t("div",De,[e[14]||(e[14]=re('<div class="left-box" data-v-89d267d2><div class="mode-name" data-v-89d267d2><span class="name-label" data-v-89d267d2>内置定位地点</span><span class="name-desc" data-v-89d267d2>仅内置了几个我常见的城市定位，<span class="code-value" data-v-89d267d2>此颜色</span>的都是可用代码，点击可自动复制（吧</span></div></div>',1)),t("div",ze,[t("div",Ne,[d(q,{modelValue:u.value,"onUpdate:modelValue":e[5]||(e[5]=m=>u.value=m),size:"small","inline-prompt":"","active-text":"显示","inactive-text":"隐藏"},null,8,["modelValue"])])])]),t("div",Ue,[(_(!0),$(U,null,A(c.value,m=>(_(),$("div",{key:m.key,class:"location-item"},[e[15]||(e[15]=t("span",{class:"default-point"},[t("span",{class:"point-dot"})],-1)),t("span",Ae,P(m.name),1),t("span",{class:"location-code",onClick:W(j=>K(J)(m.code),["stop"])},P(m.code),9,Le)]))),128))]),e[18]||(e[18]=t("div",{class:"sub-name"},[t("span",null,"别名映射")],-1)),t("div",Re,[(_(!0),$(U,null,A(y.value,m=>(_(),$("div",{key:m.alias,class:"mapping-item"},[t("span",{class:"mapping-alias",onClick:W(j=>K(J)(m.alias),["stop"])},P(m.alias),9,je),e[16]||(e[16]=t("span",{class:"ri-arrow-right-line"},null,-1)),t("span",Be,P(m.code),1)]))),128))]),e[19]||(e[19]=t("div",{class:"sub-name"},[t("span",null,"国别码默认映射"),t("span",{class:"sub-desc"},"(*没有指定location的节点以此为映射，没有在下面的国别码不显示)")],-1)),t("div",Fe,[(_(!0),$(U,null,A(V.value,m=>(_(),$("div",{key:m.alias,class:"mapping-item"},[t("span",Ye,P(m.alias),1),e[17]||(e[17]=t("span",{class:"ri-arrow-right-line"},null,-1)),t("span",Ge,P(m.code),1)]))),128))])]),t("div",We,[t("div",He,[e[20]||(e[20]=t("div",{class:"left-box"},[t("div",{class:"mode-name"},[t("span",{class:"name-label"},"自定义地点")])],-1)),t("div",Xe,[t("div",Ke,[d(q,{modelValue:k.value,"onUpdate:modelValue":e[6]||(e[6]=m=>k.value=m),size:"small","inline-prompt":"","active-text":"显示","inactive-text":"隐藏"},null,8,["modelValue"])])])]),t("div",Je,[(_(!0),$(U,null,A(r.value,m=>(_(),$("div",{key:m.key,class:"location-item"},[t("div",qe,[e[21]||(e[21]=t("span",{class:"custom-point"},[t("span",{class:"point-dot"})],-1)),t("span",Ie,P(m.name),1),t("span",{class:"location-code",onClick:W(j=>K(J)(m.code),["stop"])},P(m.code),9,Ze)]),t("div",Qe,[t("span",{class:"edit-btn",onClick:j=>B(m)},e[22]||(e[22]=[t("span",{class:"ri-edit-2-line"},null,-1)]),8,et),t("span",{class:"remove-btn",onClick:j=>R(m.key)},e[23]||(e[23]=[t("span",{class:"ri-close-circle-fill"},null,-1)]),8,tt)])]))),128))])]),d(xe,{ref_key:"customPointEditDialogRef",ref:C,onSuccess:b},null,512)])}}},at=L(ot,[["__scopeId","data-v-89d267d2"]]),ee={title:"哪吒监控",freeAmount:"白嫖",infinityCycle:"无限",buyBtnText:"购买",listServerStatusType:"progress",detailServerStatusType:"progress",disableSarasaTermSC:!1,hideWorldMap:!1,hideHomeWorldMap:!1,hideDetailWorldMap:!1,hideNavbarServerCount:!1,hideNavbarServerStat:!1,hideListItemStatusDonut:!1,hideListItemStat:!1,hideListItemBill:!1,hideFilter:!1,hideTag:!1,hideDotBG:!1,nezhaVersion:"v1",apiMonitorPath:"/api/v1/monitor/{id}",wsPath:"/ws",nezhaPath:"/nezha/",nezhaV0ConfigType:"servers",v1ApiMonitorPath:"/api/v1/service/{id}",v1WsPath:"/api/v1/ws/server",v1ApiGroupPath:"/api/v1/server-group",v1ApiSettingPath:"/api/v1/setting",v1ApiProfilePath:"/api/v1/profile",v1DashboardUrl:"/dashboard",v1HideNezhaDashboardBtn:!1,routeMode:"h5"},lt={title:{label:"网站标题",placeholder:"请输入网站标题",remark:"默认显示为“哪吒探针”",type:"input"},freeAmount:{label:"免费的叫啥",placeholder:"请输入免费服务的费用名称",remark:"默认显示为“免费”，万一你想叫它“白嫖”呢？",type:"input"},buyBtnText:{label:"购买按钮文案",placeholder:"请输入购买按钮文案",remark:"默认显示为“购买”，万一你想叫它“下单”呢？",type:"input"},infinityCycle:{label:"无限周期名称",placeholder:"请输入无限周期名称",remark:"默认显示为“无限”，万一你想叫它“永久”呢？",type:"input"},listServerStatusType:{label:"列表状态类型",placeholder:"请选择列表状态类型",remark:"列表项的状态类型",type:"select",options:[{label:"圆环饼图(donut) - 默认",value:"donut"},{label:"进度条(progress)",value:"progress"}]},detailServerStatusType:{label:"详情状态类型",placeholder:"请选择详情状态类型",remark:"详情页的状态类型",type:"select",options:[{label:"圆环饼图(donut) - 默认",value:"donut"},{label:"进度条(progress)",value:"progress"}]},disableSarasaTermSC:{label:"禁用内置字体",type:"switch",remark:"禁用Sarasa Term SC字体"},hideWorldMap:{label:"隐藏地图",type:"switch",remark:"隐藏地图后，首页和详情页都不会显示地图"},hideHomeWorldMap:{label:"首页隐藏地图",type:"switch"},hideDetailWorldMap:{label:"详情页隐藏地图",type:"switch"},hideNavbarServerCount:{label:"隐藏服务器数量",type:"switch",remark:"隐藏导航栏的服务器数量统计"},hideNavbarServerStat:{label:"隐藏服务器统计",type:"switch",remark:"隐藏导航栏的服务器统计信息"},hideListItemStatusDonut:{label:"隐藏列表饼图",remark:"隐藏列表项的状态饼图，不影响详情页的状态饼图",type:"switch"},hideListItemStat:{label:"隐藏列表统计",remark:"隐藏列表项的统计信息，不影响详情页的统计信息",type:"switch"},hideListItemBill:{label:"隐藏列表账单",remark:"隐藏列表项的账单信息，不影响详情页的账单信息",type:"switch"},hideFilter:{label:"隐藏筛选",type:"switch"},hideTag:{label:"隐藏标签",type:"switch"},hideDotBG:{label:"隐藏点阵背景",type:"switch",remark:"隐藏盒子里面的点阵背景"},nezhaVersion:{label:"哪吒版本",placeholder:"请选择哪吒版本",remark:"哪吒探针的版本，目前仅支持v0和v1，默认为v0",type:"select",options:[{label:"v0 - 默认",value:"v0"},{label:"v1",value:"v1"}]},apiMonitorPath:{label:"监控API地址",placeholder:"请输入网络服务监控API路径",remark:"主要是网络服务那个监控数据的读取，目前只会替换关键词 {id}",type:"input"},wsPath:{label:"WS服务地址",placeholder:"请输入WebSocket服务的路径",remark:"如果ws不可用，无法实时更新数据",type:"input"},nezhaPath:{label:"哪吒主页地址",placeholder:"请输入哪吒的路径",remark:"v0哪吒探针主页的地址，用于异步读取公开的节点信息，如果不可用无法读取“公开备注”",type:"input"},nezhaV0ConfigType:{label:"数据匹配关键词",placeholder:"请输入哪吒v0数据匹配关键词",remark:"v0哪吒主页上的数据匹配关键词，[ServerStatus、Default]主题是 servers，其它是 initData",type:"input",options:[{label:"servers",value:"servers",remark:"ServerStatus、Default主题"},{label:"initData",value:"initData",remark:"其它主题"}]},v1ApiMonitorPath:{label:"v1监控API地址",placeholder:"请输入v1网络服务监控API路径",remark:"主要是网络服务那个监控数据的读取，目前只会替换关键词 {id}",type:"input"},v1WsPath:{label:"v1WS服务地址",placeholder:"请输入v1WebSocket服务的路径",remark:"如果ws不可用，无法实时更新数据",type:"input"},v1ApiGroupPath:{label:"v1服务器组API地址",placeholder:"请输入v1服务器组API路径",remark:"v1版本的服务器组API",type:"input"},v1ApiSettingPath:{label:"v1设置API地址",placeholder:"请输入v1设置API路径",remark:"v1版本的设置API",type:"input"},v1ApiProfilePath:{label:"v1用户信息地址",placeholder:"请输入v1用户信息API路径",remark:"v1版本的用户信息API",type:"input"},v1DashboardUrl:{label:"v1控制台地址",placeholder:"请输入v1控制台地址",remark:"v1版本的控制台地址，默认为 /dashboard",type:"input"},v1HideNezhaDashboardBtn:{label:"隐藏控制台按钮",type:"switch",remark:"隐藏导航栏的控制台入口/登录按钮"},routeMode:{label:"路由模式",placeholder:"请选择路由模式",remark:"默认为h5，如果是hash模式，需要后端支持",type:"select",options:[{label:"h5",value:"h5",remark:"H5路由模式"},{label:"hash",value:"hash",remark:"Hash路由模式"}]}};function nt(){const n=localStorage.getItem("nazhua-custom-config");if(n)try{return JSON.parse(n)}catch{return localStorage.removeItem("nazhua-custom-config"),{}}return{}}function st(n){n&&localStorage.setItem("nazhua-custom-config",JSON.stringify(n))}const rt={class:"config-box"},it={class:"config-el-form-item-group"},ut={class:"enable-config-switch"},ct={class:"config-el-form-item-group--content"},dt={class:"autocomplete-option"},pt={class:"value"},mt={class:"desc"},ft={key:0,class:"config-el-form-item--remark"},vt={__name:"config-box",setup(n,{expose:f}){const l=S({}),x=S([]),u=S({});function k(){const r={},p=[];Object.keys(ee).forEach(a=>{const s=lt[a];s&&(r[a]=ee[a],u.value[a]=!1,p.push({prop:a,...s}))}),l.value=r,x.value=p}let C=null;function c(){C&&clearTimeout(C);const r={formData:l.value,enable:u.value};C=setTimeout(()=>{st(r)},1e3)}let y=!1;ae([l,u],()=>{y&&c()},{deep:!0});async function V(){await oe.confirm("确定要还原默认配置吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>!0).catch(()=>!1)&&(y=!1,k(),ue(()=>{y=!0}))}return ie(()=>{k();const r=nt();r&&(Object.keys((r==null?void 0:r.formData)||{}).forEach(p=>{O.hasOwn(u.value,p)&&(l.value[p]=r.formData[p])}),Object.keys((r==null?void 0:r.enable)||{}).forEach(p=>{O.hasOwn(u.value,p)&&(u.value[p]=r.enable[p])})),y=!0}),f({getData(){const r={};return Object.keys(u.value).forEach(p=>{u.value[p]&&(r[p]=l.value[p])}),r}}),(r,p)=>{const a=w("el-switch"),s=w("el-autocomplete"),g=w("el-input"),i=w("el-option"),v=w("el-select"),M=w("el-form-item"),B=w("el-button"),R=w("el-form");return _(),$("div",rt,[d(R,{model:l.value,"label-width":"150px"},{default:h(()=>[(_(!0),$(U,null,A(x.value,b=>(_(),D(M,{key:b.prop,label:b.label,prop:b.prop},{default:h(()=>[t("div",it,[t("div",ut,[d(a,{modelValue:u.value[b.prop],"onUpdate:modelValue":o=>u.value[b.prop]=o,"inline-prompt":"","active-text":"启用","inactive-text":"禁用"},null,8,["modelValue","onUpdate:modelValue"])]),t("div",ct,[b.type==="input"&&b.options?(_(),D(s,{key:0,modelValue:l.value[b.prop],"onUpdate:modelValue":o=>l.value[b.prop]=o,placeholder:b.placeholder,"fetch-suggestions":b.options},{default:h(({item:o})=>[t("div",dt,[t("div",pt,P(o.value),1),t("span",mt,P(o.label)+P(o.remark),1)])]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","fetch-suggestions"])):b.type==="input"?(_(),D(g,{key:1,modelValue:l.value[b.prop],"onUpdate:modelValue":o=>l.value[b.prop]=o,placeholder:b.placeholder},null,8,["modelValue","onUpdate:modelValue","placeholder"])):b.type==="select"?(_(),D(v,{key:2,modelValue:l.value[b.prop],"onUpdate:modelValue":o=>l.value[b.prop]=o,placeholder:b.placeholder},{default:h(()=>[(_(!0),$(U,null,A(b.options,o=>(_(),D(i,{key:o.value,label:o.label,value:o.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])):b.type==="switch"?(_(),D(a,{key:3,modelValue:l.value[b.prop],"onUpdate:modelValue":o=>l.value[b.prop]=o},null,8,["modelValue","onUpdate:modelValue"])):X("",!0)]),b.remark?(_(),$("div",ft," Tips: "+P(b.remark),1)):X("",!0)])]),_:2},1032,["label","prop"]))),128)),d(M,null,{default:h(()=>[d(B,{type:"warning",onClick:V},{default:h(()=>p[0]||(p[0]=[N(" 还原默认配置 ")])),_:1})]),_:1})]),_:1},8,["model"])])}}},ht=L(vt,[["__scopeId","data-v-98aa85c9"]]),yt={class:"export-box"},_t={class:"config-box"},bt={class:"config-textarea-box"},xt={class:"config-textarea-operate"},gt={class:"left-box"},kt={class:"nezha-v1-dashboard-custom-code-group"},Ct={key:0,class:"warning-text"},wt={class:"right-box"},St={__name:"export-box",props:{refreshData:{type:Function,default:()=>{}}},setup(n,{expose:f}){const l=n,x=S(!1),u=S(!1),k=S(),C=S("");function c(a,s=""){let g=`{
`;return Object.entries(a).forEach(([i,v])=>{let M=v;if(typeof v=="object"){g+=`${s}  ${i}: ${c(M,`${s}  `)},
`;return}typeof v=="string"&&(M=`'${v}'`),typeof v=="boolean"&&(M=v?"true":"false"),!(typeof v>"u")&&(g+=`${s}  ${i}: ${M},
`)}),g+=`${s}}`,g}function y(a){k.value=a;const s=`window.$$nazhuaConfig = ${c(a)};`;u.value?C.value=`<script>
  ${s}
&lt;/script>`.replace("&lt;/","</"):C.value=s,x.value=!1,setTimeout(()=>{x.value=!0},300)}function V(){const a=document.createElement("textarea");a.value=C.value,document.body.appendChild(a),a.select(),document.execCommand("Copy"),document.body.removeChild(a),F.success("复制成功")}function r(){const a=new Blob([C.value],{type:"text/plain"}),s=URL.createObjectURL(a),g=document.createElement("a");g.href=s,g.download="config.js",g.click(),URL.revokeObjectURL(s)}function p(){var s;const a=(s=l==null?void 0:l.refreshData)==null?void 0:s.call(l);a&&y(a)}return ae(()=>u.value,()=>{p()}),f({setData(a){y(a)}}),(a,s)=>{const g=w("highlightjs"),i=w("el-button"),v=w("el-switch");return _(),$("div",yt,[t("div",_t,[t("div",bt,[x.value?(_(),D(g,{key:0,language:"js",code:C.value},null,8,["code"])):X("",!0)]),t("div",xt,[t("div",gt,[d(i,{type:"success",plain:"",onClick:V},{default:h(()=>s[1]||(s[1]=[N(" 复制内容 ")])),_:1}),d(i,{type:"primary",plain:"",onClick:r},{default:h(()=>s[2]||(s[2]=[N(" 下载文件 ")])),_:1}),t("span",kt,[s[3]||(s[3]=t("span",null,"用于哪吒V1控制台自定义代码",-1)),d(v,{modelValue:u.value,"onUpdate:modelValue":s[0]||(s[0]=M=>u.value=M),"inline-prompt":"","active-text":"是","inactive-text":"否"},null,8,["modelValue"]),u.value&&k.value.routeMode==="h5"?(_(),$("span",Ct,"*自定义代码内设定routeMode: 'h5'无法生效")):X("",!0)])]),t("div",wt,[d(i,{type:"danger",plain:"",onClick:p},{default:h(()=>s[4]||(s[4]=[N(" 重载配置 ")])),_:1})])])])])}}},Vt=L(St,[["__scopeId","data-v-f1ebfeba"]]),Mt={class:"home-page"},$t={class:"home-container container"},Pt={__name:"home",setup(n){const f=S("mapPoint"),l=S(null),x=S(null),u=S(null);function k(){var V,r,p,a;const c=(r=(V=l.value)==null?void 0:V.getData)==null?void 0:r.call(V),y=(a=(p=x.value)==null?void 0:p.getData)==null?void 0:a.call(p);return c!=null&&c.customCodeMap&&Object.keys(c.customCodeMap).length&&(y.customCodeMap=c==null?void 0:c.customCodeMap),y}function C(){var c,y;f.value==="exportConfig"&&((y=(c=u.value)==null?void 0:c.setData)==null||y.call(c,k()))}return(c,y)=>{const V=w("el-tab-pane"),r=w("el-tabs");return _(),$("div",Mt,[y[1]||(y[1]=t("div",{class:"home-header"},[t("div",{class:"home-header-container container"},[t("div",{class:"left-box"},[t("h1",{class:"site-name"},"Nazhua配置生成器")]),t("div",{class:"right-box"},[t("a",{class:"github-link",href:"https://github.com/hi2shark/nazhua",_target:"blank"}," Github ")])])],-1)),t("div",$t,[d(r,{modelValue:f.value,"onUpdate:modelValue":y[0]||(y[0]=p=>f.value=p),onTabChange:C},{default:h(()=>[d(V,{label:"地图坐标拾取",name:"mapPoint"},{default:h(()=>[d(at,{ref_key:"worldMapBoxRef",ref:l},null,512)]),_:1}),d(V,{label:"自定义配置",name:"customConfig"},{default:h(()=>[d(ht,{ref_key:"configBoxRef",ref:x},null,512)]),_:1}),d(V,{label:"导出配置",name:"exportConfig"},{default:h(()=>[d(Vt,{ref_key:"exportBoxRef",ref:u,"refresh-data":k},null,512)]),_:1})]),_:1},8,["modelValue"])])])}}},Tt=L(Pt,[["__scopeId","data-v-b145fd66"]]);export{Tt as default};
