import{E as F,r as P,c as U,o as g,a as T,b as t,n as se,d as te,e as m,w as x,F as N,f as R,g as D,T as re,h as w,i as L,t as O,j as H,k as ie,u as X,l as oe,m as ae,p as le,q as ue,s as G,v as ce}from"./index-BkDsI58d.js";const K={PEK:{x:1025,y:178,name:"北京",country:"中国"},PVG:{x:1057,y:225,name:"上海",country:"中国"},CKG:{x:1010,y:235,name:"重庆",country:"中国"},TFU:{x:1e3,y:230,name:"成都",country:"中国"},HKG:{x:1039,y:263,name:"香港",country:"中国"},MFM:{x:1035,y:264,name:"澳门",country:"中国"},TPE:{x:1067,y:253,name:"台北",country:"中国"},OSA:{x:1109,y:207,name:"大阪",country:"日本"},TYO:{x:1124,y:199,name:"东京",country:"日本"},SEL:{x:1077,y:198,name:"首尔",country:"韩国"},SIN:{x:1e3,y:354,name:"新加坡",country:"新加坡"},JHB:{x:997,y:350,name:"新山",country:"马来西亚"},KUL:{x:990,y:345,name:"吉隆坡",country:"马来西亚"},HAN:{x:998,y:274,name:"河内",country:"越南"},SGN:{x:1015,y:314,name:"胡志明市",country:"越南"},LAX:{x:95,y:207,name:"洛杉矶",country:"美国"},LAS:{x:98,y:198,name:"拉斯维加斯",country:"美国"},SLC:{x:111,y:189,name:"盐湖城",country:"美国"},SJC:{x:87,y:193,name:"圣何塞",country:"美国"},SEA:{x:118,y:143,name:"西雅图",country:"美国"},MIA:{x:243,y:244,name:"迈阿密",country:"美国"},ORD:{x:233,y:175,name:"芝加哥",country:"美国"},NYC:{x:280,y:179,name:"纽约",country:"美国"},YYZ:{x:267,y:161,name:"多伦多",country:"加拿大"},SYD:{x:1167,y:519,name:"悉尼",country:"澳大利亚"},AMS:{x:595,y:125,name:"阿姆斯特丹",country:"荷兰"},LON:{x:571,y:127,name:"伦敦",country:"英国"},FRA:{x:603,y:137,name:"法兰克福",country:"德国"},LUX:{x:591,y:140,name:"卢森堡",country:"卢森堡"},CDG:{x:579,y:145,name:"巴黎",country:"法国"},SVO:{x:704,y:115,name:"莫斯科",country:"俄罗斯"},OTP:{x:673,y:160,name:"布加勒斯特",country:"罗马尼亚"},IST:{x:676,y:176,name:"伊斯坦布尔",country:"土耳其"}},Z={SGP:"SIN",ICN:"SEL",NRT:"TYO",HND:"TYO",KIX:"OSA",PAR:"CDG",MOW:"SVO",CHI:"ORD",SHA:"PVG",CAN:"CKG",CTU:"TFU",BJS:"PEK",HK:"HKG",MO:"MFM",TW:"TPE"},Q={CN:"PEK",JP:"TYO",SG:"SIN",KR:"SEL",MY:"KUL",VN:"HAN",TR:"IST",RO:"OTP",LU:"LUX",FR:"CDG",RU:"SVO",DE:"FRA",NL:"AMS",UK:"LON",GB:"LON",AU:"SYD",US:"LAX"},de=()=>{var s;if((s=crypto)!==null&&s!==void 0&&s.randomUUID)return crypto.randomUUID();let h=new Date().getTime(),d=typeof performance<"u"&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,f=>{let y=Math.random()*16;return h>0?(y=(h+y)%16|0,h=Math.floor(h/16)):(y=(d+y)%16|0,d=Math.floor(d/16)),(f==="x"?y:y&3|8).toString(16)})},J=s=>{const h=document.createElement("textarea");h.value=s,document.body.appendChild(h),h.select(),document.execCommand("Copy"),document.body.removeChild(h),s.length<10?F.success(`复制"${s}"成功`):F.success("复制成功")};function pe(){const s=localStorage.getItem("nazhua-custom-location");if(s)try{return JSON.parse(s)}catch{return localStorage.removeItem("nazhua-custom-location"),[]}return[]}function I(s){s&&localStorage.setItem("nazhua-custom-location",JSON.stringify(s))}const M={isSet(s){return s!=null},isEmpty(s,h=null){let d=!1,f=!1,y=!1;if(h===!0)d=!0;else{const _=h||{};d=_.allEmpty,f=_.objectEmpty,y=_.arrayEmpty}return!!(s==null||s.constructor.name==="String"&&s===""||(d||f)&&s.constructor.name==="Object"&&Object.getOwnPropertyNames(s).length===0||(d||y)&&Array.isArray(s)&&s.length===0)},isObject(s){return typeof s=="object"&&s!==null&&s.constructor.name==="Object"},isNumber(s,h=!1){return h&&typeof s=="string"?!Number.isNaN(Number(s)):typeof s=="number"},hasOwn(s,h){return Object.prototype.hasOwnProperty.call(s,h)}},j=(s,h)=>{const d=s.__vccOpts||s;for(const[f,y]of h)d[f]=y;return d},me=["title"],fe={__name:"world-map-point",props:{info:{type:Object,default:()=>({})}},emits:["point-tap"],setup(s,{emit:h}){const d=s,f=h,y=P(),_=U(()=>{var i;const u={};return u["--map-point-left"]=`${d.info.left}px`,u["--map-point-top"]=`${d.info.top}px`,(i=d.info)!=null&&i.size&&(u["--map-point-size"]=`${d.info.size}px`),u});function $(){f("point-tap",d.info)}return(u,i)=>{var S,b;return g(),T("div",{ref_key:"pointRef",ref:y,class:se(["world-map-point","world-map-point--"+(((S=s.info)==null?void 0:S.type)||"default")]),style:te(_.value),title:((b=s.info)==null?void 0:b.label)||"",onClick:$},i[0]||(i[0]=[t("div",{class:"point-block"},null,-1)]),14,me)}}},ve=j(fe,[["__scopeId","data-v-e834ec66"]]),he={__name:"world-map",props:{width:{type:[Number,String],default:null},height:{type:[Number,String],default:null},locations:{type:Array,default:()=>[]}},emits:["point-coord","select-coord","mouse-coord"],setup(s,{emit:h}){const d=s,f=h,y=P(null),_=U(()=>{if(!M.isEmpty(d.width)&&!M.isEmpty(d.height))return{width:1280,height:621};const a=Number(d.width),o=Number(d.height);return!M.isEmpty(d.width)&&M.isEmpty(d.height)?{width:a,height:Math.ceil(621/1280*a)}:M.isEmpty(d.width)&&!M.isEmpty(d.height)?{width:Math.ceil(1280/621*o),height:o}:a/o>1280/621?{width:Math.ceil(o*(1280/621)),height:o}:{width:a,height:Math.ceil(a*(621/1280))}}),$=U(()=>({width:_.value.width/1280,height:_.value.height/621})),u=U(()=>{const a={};return a["--world-map-width"]=`${_.value.width}px`,a["--world-map-height"]=`${_.value.height}px`,a}),i=U(()=>d.locations.map(a=>({...a,key:a.key,left:_.value.width/1280*a.x,top:_.value.height/621*a.y,size:a.size||4,label:a.label})));function S(a){const o=Math.max(Math.round(a.offsetX/$.value.width),0),r=Math.max(Math.round(a.offsetY/$.value.height),0);f("select-coord",{x:o,y:r})}function b(a){const o=Math.max(Math.round(a.offsetX/$.value.width),0),r=Math.max(Math.round(a.offsetY/$.value.height),0);f("mouse-coord",{x:o,y:r})}function V(a){const o={x:a.left-a.size/2,y:a.top-a.size};console.log(o),f("point-coord",o)}return(a,o)=>(g(),T("div",{ref_key:"worldMapImgRef",ref:y,class:"world-map-group",style:te(u.value),onClick:S,onMousemove:b},[o[0]||(o[0]=t("div",{class:"world-map-img"},null,-1)),m(re,{name:"point",tag:"div",class:"world-map-point-container"},{default:x(()=>[(g(!0),T(N,null,R(i.value,r=>(g(),D(ve,{key:r.key,info:r,onPointTap:V},null,8,["info"]))),128))]),_:1})],36))}},ye=j(he,[["__scopeId","data-v-d3800f5a"]]),_e={class:"el-form-group"},be={class:"dialog-footer"},ge={__name:"custom-point-edit-dialog",emits:["success"],setup(s,{expose:h,emit:d}){const f=d,y=P(!1),_=P(null),$=()=>({code:"",name:"",country:"",x:"",y:""}),u=P($()),i={name:[{required:!0,message:"请输入名称",trigger:["change","blur"]}],code:[{required:!0,message:"请输入唯一编码",trigger:["change","blur"]}],x:[{required:!0,trigger:["change","blur"],validator:(r,l,p)=>M.isEmpty(l)?p(new Error("请输入X轴坐标")):M.isNumber(l)?l<0||l>1280?p(new Error("X轴坐标范围为0-1280")):p():p(new Error("X轴坐标必须为数字值"))}],y:[{required:!0,trigger:["change","blur"],validator:(r,l,p)=>M.isEmpty(l)?p(new Error("请输入Y轴坐标")):M.isNumber(l)?l<0||l>621?p(new Error("Y轴坐标范围为0-621")):p():p(new Error("Y轴坐标必须为数字值"))}]};let S,b,V;function a(){_.value.validate(r=>{if(r){const l=JSON.parse(JSON.stringify(u.value));if(typeof V=="function"&&!V(l))return;f("success",{data:l,info:b,type:S}),y.value=!1}})}function o(r,l,p){S=r,b=l,V=p,u.value=$(),Object.keys(u.value).forEach(k=>{M.hasOwn(l,k)&&(u.value[k]=l[k])}),y.value=!0}return h({active:o}),(r,l)=>{const p=w("el-input"),k=w("el-form-item"),E=w("el-form"),A=w("el-button"),z=w("el-dialog");return g(),D(z,{modelValue:y.value,"onUpdate:modelValue":l[6]||(l[6]=n=>y.value=n),title:"自定义地图点",width:"400px","align-center":"","append-to-body":"","destroy-on-close":"","close-on-click-modal":!1},{footer:x(()=>[t("div",be,[m(A,{onClick:l[5]||(l[5]=n=>y.value=!1)},{default:x(()=>l[7]||(l[7]=[L("取 消")])),_:1}),m(A,{type:"primary",onClick:a},{default:x(()=>l[8]||(l[8]=[L(" 确 定 ")])),_:1})])]),default:x(()=>[m(E,{ref_key:"pointFormRef",ref:_,model:u.value,rules:i,"label-width":"80px"},{default:x(()=>[t("div",_e,[m(k,{label:"X轴",prop:"x"},{default:x(()=>[m(p,{modelValue:u.value.x,"onUpdate:modelValue":l[0]||(l[0]=n=>u.value.x=n),modelModifiers:{number:!0},type:"number",placeholder:"请输入X轴坐标"},null,8,["modelValue"])]),_:1}),m(k,{label:"Y轴",prop:"y","label-width":"50px"},{default:x(()=>[m(p,{modelValue:u.value.y,"onUpdate:modelValue":l[1]||(l[1]=n=>u.value.y=n),modelModifiers:{number:!0},type:"number",placeholder:"请输入Y轴坐标"},null,8,["modelValue"])]),_:1})]),m(k,{label:"唯一编码",prop:"code"},{default:x(()=>[m(p,{modelValue:u.value.code,"onUpdate:modelValue":l[2]||(l[2]=n=>u.value.code=n),placeholder:"请输入唯一编码",clearable:""},null,8,["modelValue"])]),_:1}),m(k,{label:"地点名称",prop:"name"},{default:x(()=>[m(p,{modelValue:u.value.name,"onUpdate:modelValue":l[3]||(l[3]=n=>u.value.name=n),placeholder:"请输入名称",clearable:""},null,8,["modelValue"])]),_:1}),m(k,{label:"国家地区",prop:"country"},{default:x(()=>[m(p,{modelValue:u.value.country,"onUpdate:modelValue":l[4]||(l[4]=n=>u.value.country=n),placeholder:"请输入国家地区, 可选",clearable:""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])}}},xe=j(ge,[["__scopeId","data-v-5ee884d2"]]),Ce={class:"world-map-box"},ke={class:"world-map-and-coord-group"},we={class:"map-operate"},Se={class:"coord-box"},$e={class:"el-form-group"},Ve={class:"coord-temp-list"},Te=["onClick"],Pe={class:"location-info"},Oe={class:"location-name"},Ee={class:"location-operate"},Me=["onClick"],De={class:"default-location-group"},Ue={class:"operate-box"},Ae={class:"right-box"},ze={class:"show-default-location-to-map"},Ne={class:"location-list"},Le={class:"location-name"},Re=["onClick"],je={class:"mapping-list"},Be=["onClick"],Ge={class:"mapping-code"},Fe={class:"mapping-list"},Ye={class:"mapping-alias"},We={class:"mapping-code"},He={class:"custom-location-group"},Ke={class:"operate-box"},Xe={class:"right-box"},Je={class:"show-custom-location-to-map"},qe={class:"location-list"},Ze={class:"location-item-info"},Qe={class:"location-name"},Ie=["onClick"],et={class:"location-item-operate"},tt=["onClick"],ot=["onClick"],at={__name:"world-map-box",setup(s,{expose:h}){const d=P(1024);function f(n){let e=d.value;n==="zoomIn"?(e+=128,e=Math.min(e,3072)):n==="zoomOut"?(e-=128,e=Math.max(e,1024)):e=1024,d.value=e}const y=P(!0),_=P(!0),$=P(null),u=U(()=>Object.keys(K).map(n=>({...K[n],type:"default",key:n,code:n,size:4,label:`[${n}] - ${K[n].country}，${K[n].name}`}))),i=U(()=>Object.keys(Z).map(n=>({alias:n,code:Z[n]}))),S=U(()=>Object.keys(Q).map(n=>({alias:n,code:Q[n]}))),b=P(pe()),V=P([]),a=U(()=>{const n=[];return y.value&&n.push(...u.value),n.push(...b.value),n.push(...V.value),n}),o=P({x:0,y:0});function r(n){o.value={x:n.x,y:n.y}}function l(n){o.value={x:n.x,y:n.y},V.value.push({x:n.x,y:n.y,type:"temp",key:de(),size:4,label:`X:${n.x}，Y${n.y}`})}function p(n){V.value=V.value.filter(e=>e.key!==n)}function k(n){$.value.active("add",n,e=>b.value.some(C=>C.code===e.code)?(F.error("编码已存在"),!1):!0)}function E(n){$.value.active("edit",n,e=>b.value.length>1&&b.value.some(C=>C.code===e.code&&C.code!==n.code)?(F.error("编码重复，需要唯一"),!1):!0)}async function A(n){await oe.confirm("确定删除该自定义地点吗？").then(()=>!0).catch(()=>!1)&&(b.value=b.value.filter(c=>c.key!==n),I(b.value))}function z(n){const{data:e,type:c,info:C}=n;if(c==="add")b.value.push({key:e.code,type:"custom",code:e.code,name:e.name,country:e.country,x:e.x,y:e.y,size:4,label:`[${e.code}] - ${e.country}，${e.name}`}),p(C.key);else if(c==="edit"){const Y=b.value.findIndex(W=>W.code===C.code);b.value.splice(Y,1,{key:e.code,type:"custom",code:e.code,name:e.name,country:e.country,x:e.x,y:e.y,size:4,label:`[${e.code}] - ${e.country}，${e.name}`})}I(b.value)}return h({getData(){const n={};return b.value.forEach(e=>{n[e.code]={name:e.name,country:e.country,x:e.x,y:e.y}}),{customCodeMap:n}}}),(n,e)=>{const c=w("el-button"),C=w("el-scrollbar"),Y=w("el-input"),W=w("el-form-item"),ne=w("el-form"),q=w("el-switch");return g(),T("div",Ce,[t("div",ke,[m(C,{style:{width:"1024px",height:"497px"}},{default:x(()=>[m(ye,{width:d.value,locations:a.value,onMouseCoord:r,onSelectCoord:l},null,8,["width","locations"]),t("div",we,[m(c,{type:"primary",size:"small",link:"",onClick:e[0]||(e[0]=v=>f("zoomIn"))},{default:x(()=>e[7]||(e[7]=[L(" 放大 ")])),_:1}),m(c,{type:"success",size:"small",link:"",onClick:e[1]||(e[1]=v=>f("zoomOut"))},{default:x(()=>e[8]||(e[8]=[L(" 缩小 ")])),_:1}),m(c,{type:"default",size:"small",link:"",onClick:e[2]||(e[2]=v=>f("reset"))},{default:x(()=>e[9]||(e[9]=[L(" 默认 ")])),_:1})])]),_:1}),t("div",Se,[e[12]||(e[12]=t("div",{class:"coord-title"},[t("span",null,"坐标记录")],-1)),m(ne,null,{default:x(()=>[t("div",$e,[m(W,{label:"X轴"},{default:x(()=>[m(Y,{modelValue:o.value.x,"onUpdate:modelValue":e[3]||(e[3]=v=>o.value.x=v)},null,8,["modelValue"])]),_:1}),m(W,{label:"Y轴"},{default:x(()=>[m(Y,{modelValue:o.value.y,"onUpdate:modelValue":e[4]||(e[4]=v=>o.value.y=v)},null,8,["modelValue"])]),_:1})])]),_:1}),e[13]||(e[13]=t("p",{class:"tips"}," 点击左侧地图会记录下坐标，点击记录坐标可以创建自定义地点；*隐藏内置地点后更方便戳点点 ",-1)),m(C,{height:"340px"},{default:x(()=>[t("div",Ve,[(g(!0),T(N,null,R(V.value,v=>(g(),T("div",{key:v.key,class:"location-item",onClick:B=>k(v)},[t("div",Pe,[e[10]||(e[10]=t("span",{class:"location-icon"},[t("span",{class:"ri-map-pin-5-line"})],-1)),t("span",Oe," X:"+O(v.x)+"，Y:"+O(v.y),1)]),t("div",Ee,[t("span",{class:"remove-btn",onClick:H(B=>p(v.key),["stop"])},e[11]||(e[11]=[t("span",{class:"ri-close-circle-fill"},null,-1)]),8,Me)])],8,Te))),128))])]),_:1})])]),t("div",De,[t("div",Ue,[e[14]||(e[14]=ie('<div class="left-box" data-v-89d267d2><div class="mode-name" data-v-89d267d2><span class="name-label" data-v-89d267d2>内置定位地点</span><span class="name-desc" data-v-89d267d2>仅内置了几个我常见的城市定位，<span class="code-value" data-v-89d267d2>此颜色</span>的都是可用代码，点击可自动复制（吧</span></div></div>',1)),t("div",Ae,[t("div",ze,[m(q,{modelValue:y.value,"onUpdate:modelValue":e[5]||(e[5]=v=>y.value=v),size:"small","inline-prompt":"","active-text":"显示","inactive-text":"隐藏"},null,8,["modelValue"])])])]),t("div",Ne,[(g(!0),T(N,null,R(u.value,v=>(g(),T("div",{key:v.key,class:"location-item"},[e[15]||(e[15]=t("span",{class:"default-point"},[t("span",{class:"point-dot"})],-1)),t("span",Le,O(v.name),1),t("span",{class:"location-code",onClick:H(B=>X(J)(v.code),["stop"])},O(v.code),9,Re)]))),128))]),e[18]||(e[18]=t("div",{class:"sub-name"},[t("span",null,"别名映射")],-1)),t("div",je,[(g(!0),T(N,null,R(i.value,v=>(g(),T("div",{key:v.alias,class:"mapping-item"},[t("span",{class:"mapping-alias",onClick:H(B=>X(J)(v.alias),["stop"])},O(v.alias),9,Be),e[16]||(e[16]=t("span",{class:"ri-arrow-right-line"},null,-1)),t("span",Ge,O(v.code),1)]))),128))]),e[19]||(e[19]=t("div",{class:"sub-name"},[t("span",null,"国别码默认映射"),t("span",{class:"sub-desc"},"(*没有指定location的节点以此为映射，没有在下面的国别码不显示)")],-1)),t("div",Fe,[(g(!0),T(N,null,R(S.value,v=>(g(),T("div",{key:v.alias,class:"mapping-item"},[t("span",Ye,O(v.alias),1),e[17]||(e[17]=t("span",{class:"ri-arrow-right-line"},null,-1)),t("span",We,O(v.code),1)]))),128))])]),t("div",He,[t("div",Ke,[e[20]||(e[20]=t("div",{class:"left-box"},[t("div",{class:"mode-name"},[t("span",{class:"name-label"},"自定义地点")])],-1)),t("div",Xe,[t("div",Je,[m(q,{modelValue:_.value,"onUpdate:modelValue":e[6]||(e[6]=v=>_.value=v),size:"small","inline-prompt":"","active-text":"显示","inactive-text":"隐藏"},null,8,["modelValue"])])])]),t("div",qe,[(g(!0),T(N,null,R(b.value,v=>(g(),T("div",{key:v.key,class:"location-item"},[t("div",Ze,[e[21]||(e[21]=t("span",{class:"custom-point"},[t("span",{class:"point-dot"})],-1)),t("span",Qe,O(v.name),1),t("span",{class:"location-code",onClick:H(B=>X(J)(v.code),["stop"])},O(v.code),9,Ie)]),t("div",et,[t("span",{class:"edit-btn",onClick:B=>E(v)},e[22]||(e[22]=[t("span",{class:"ri-edit-2-line"},null,-1)]),8,tt),t("span",{class:"remove-btn",onClick:B=>A(v.key)},e[23]||(e[23]=[t("span",{class:"ri-close-circle-fill"},null,-1)]),8,ot)])]))),128))])]),m(xe,{ref_key:"customPointEditDialogRef",ref:$,onSuccess:z},null,512)])}}},lt=j(at,[["__scopeId","data-v-89d267d2"]]),ee={title:"哪吒监控",freeAmount:"白嫖",infinityCycle:"无限",buyBtnText:"购买",listServerStatusType:"progress",detailServerStatusType:"progress",disableSarasaTermSC:!1,hideWorldMap:!1,hideHomeWorldMap:!1,hideDetailWorldMap:!1,hideNavbarServerCount:!1,hideNavbarServerStat:!1,hideListItemStatusDonut:!1,hideListItemStat:!1,hideListItemBill:!1,hideFilter:!1,hideTag:!1,hideDotBG:!1,monitorRefreshTime:10,filterGPUKeywords:["Virtual Display"],nezhaVersion:"v1",apiMonitorPath:"/api/v1/monitor/{id}",wsPath:"/ws",nezhaPath:"/nezha/",nezhaV0ConfigType:"servers",v1ApiMonitorPath:"/api/v1/service/{id}",v1WsPath:"/api/v1/ws/server",v1ApiGroupPath:"/api/v1/server-group",v1ApiSettingPath:"/api/v1/setting",v1ApiProfilePath:"/api/v1/profile",v1DashboardUrl:"/dashboard",v1HideNezhaDashboardBtn:!1,routeMode:"h5"},nt={title:{label:"网站标题",placeholder:"请输入网站标题",remark:"默认显示为“哪吒探针”",type:"input",v1customCode:!0},freeAmount:{label:"免费的叫啥",placeholder:"请输入免费服务的费用名称",remark:"默认显示为“免费”，万一你想叫它“白嫖”呢？",type:"input",v1customCode:!0},buyBtnText:{label:"购买按钮文案",placeholder:"请输入购买按钮文案",remark:"默认显示为“购买”，万一你想叫它“下单”呢？",type:"input",v1customCode:!0},infinityCycle:{label:"无限周期名称",placeholder:"请输入无限周期名称",remark:"默认显示为“无限”，万一你想叫它“永久”呢？",type:"input",v1customCode:!0},listServerStatusType:{label:"列表状态类型",placeholder:"请选择列表状态类型",remark:"列表项的状态类型",type:"select",options:[{label:"圆环饼图(donut) - 默认",value:"donut"},{label:"进度条(progress)",value:"progress"}],v1customCode:!0},detailServerStatusType:{label:"详情状态类型",placeholder:"请选择详情状态类型",remark:"详情页的状态类型",type:"select",options:[{label:"圆环饼图(donut) - 默认",value:"donut"},{label:"进度条(progress)",value:"progress"}],v1customCode:!0},disableSarasaTermSC:{label:"禁用内置字体",type:"switch",remark:"禁用Sarasa Term SC字体",v1customCode:!0},hideWorldMap:{label:"隐藏地图",type:"switch",remark:"隐藏地图后，首页和详情页都不会显示地图",v1customCode:!0},hideHomeWorldMap:{label:"首页隐藏地图",type:"switch",v1customCode:!0},hideDetailWorldMap:{label:"详情页隐藏地图",type:"switch",v1customCode:!0},hideNavbarServerCount:{label:"隐藏服务器数量",type:"switch",remark:"隐藏导航栏的服务器数量统计",v1customCode:!0},hideNavbarServerStat:{label:"隐藏服务器统计",type:"switch",remark:"隐藏导航栏的服务器统计信息",v1customCode:!0},hideListItemStatusDonut:{label:"隐藏列表饼图",remark:"隐藏列表项的状态饼图，不影响详情页的状态饼图",type:"switch",v1customCode:!0},hideListItemStat:{label:"隐藏列表统计",remark:"隐藏列表项的统计信息，不影响详情页的统计信息",type:"switch",v1customCode:!0},hideListItemBill:{label:"隐藏列表账单",remark:"隐藏列表项的账单信息，不影响详情页的账单信息",type:"switch",v1customCode:!0},hideFilter:{label:"隐藏筛选",remark:"隐藏列表页的标签和在线/离线筛选功能",type:"switch",v1customCode:!0},hideTag:{label:"隐藏标签",remark:"隐藏列表项的标签筛选功能",type:"switch",v1customCode:!0},hideDotBG:{label:"隐藏点阵背景",type:"switch",remark:"隐藏盒子里面的点阵背景",v1customCode:!0},monitorRefreshTime:{label:"监控刷新时间",placeholder:"请输入监控刷新时间",remark:"监控刷新时间间隔，单位s（秒）, 0为不刷新，为保证不频繁请求源站，最低生效值为10s",type:"input",v1customCode:!0,version:"0.4.8+"},filterGPUKeywords:{label:"GPU过滤关键字",placeholder:"请输入GPU过滤关键字",remark:"按下Enter建(回车)确定关键词；如果GPU名称中包含这些关键字，则过滤掉",type:"input-tag",v1customCode:!0,version:"0.4.9+"},nezhaVersion:{label:"哪吒版本",placeholder:"请选择哪吒版本",remark:"哪吒探针的版本，目前仅支持v0和v1，默认为v0",type:"select",options:[{label:"v0 - 默认",value:"v0"},{label:"v1",value:"v1"}]},apiMonitorPath:{label:"监控API地址",placeholder:"请输入网络服务监控API路径",remark:"主要是网络服务那个监控数据的读取，目前只会替换关键词 {id}",type:"input"},wsPath:{label:"WS服务地址",placeholder:"请输入WebSocket服务的路径",remark:"如果ws不可用，无法实时更新数据",type:"input"},nezhaPath:{label:"哪吒主页地址",placeholder:"请输入哪吒的路径",remark:"v0哪吒探针主页的地址，用于异步读取公开的节点信息，如果不可用无法读取“公开备注”",type:"input"},nezhaV0ConfigType:{label:"数据匹配关键词",placeholder:"请输入哪吒v0数据匹配关键词",remark:"v0哪吒主页上的数据匹配关键词，[ServerStatus、Default]主题是 servers，其它是 initData",type:"input",options:[{label:"servers",value:"servers",remark:"ServerStatus、Default主题"},{label:"initData",value:"initData",remark:"其它主题"}]},v1ApiMonitorPath:{label:"v1监控API地址",placeholder:"请输入v1网络服务监控API路径",remark:"主要是网络服务那个监控数据的读取，目前只会替换关键词 {id}",type:"input"},v1WsPath:{label:"v1WS服务地址",placeholder:"请输入v1WebSocket服务的路径",remark:"如果ws不可用，无法实时更新数据",type:"input"},v1ApiGroupPath:{label:"v1服务器组API地址",placeholder:"请输入v1服务器组API路径",remark:"v1版本的服务器组API",type:"input"},v1ApiSettingPath:{label:"v1设置API地址",placeholder:"请输入v1设置API路径",remark:"v1版本的设置API",type:"input"},v1ApiProfilePath:{label:"v1用户信息地址",placeholder:"请输入v1用户信息API路径",remark:"v1版本的用户信息API",type:"input"},v1DashboardUrl:{label:"v1控制台地址",placeholder:"请输入v1控制台地址",remark:"v1版本的控制台地址，默认为 /dashboard",type:"input",v1customCode:!0},v1HideNezhaDashboardBtn:{label:"隐藏控制台按钮",type:"switch",remark:"隐藏导航栏的控制台入口/登录按钮",v1customCode:!0},routeMode:{label:"路由模式",placeholder:"请选择路由模式",remark:"默认为h5，如果是hash模式，需要后端支持",type:"select",options:[{label:"h5",value:"h5",remark:"H5路由模式"},{label:"hash",value:"hash",remark:"Hash路由模式"}]}};function st(){const s=localStorage.getItem("nazhua-custom-config");if(s)try{return JSON.parse(s)}catch{return localStorage.removeItem("nazhua-custom-config"),{}}return{}}function rt(s){s&&localStorage.setItem("nazhua-custom-config",JSON.stringify(s))}const it={class:"config-box"},ut={class:"nezha-v1-dashboard-custom-code-group"},ct={class:"label-group"},dt=["title"],pt={class:"config-el-form-item-group"},mt={class:"enable-config-switch"},ft={class:"config-el-form-item-group--content"},vt={class:"autocomplete-option"},ht={class:"value"},yt={class:"desc"},_t={key:0,class:"config-el-form-item--remark"},bt={__name:"config-box",setup(s,{expose:h}){const d=ae(),f=P({}),y=P([]),_=P({}),$=U({get:()=>d.state.v1CustomCode,set:a=>{d.commit("SET_V1_CUSTOM_CODE",a)}});function u(){const a={},o=[];Object.keys(ee).forEach(r=>{const l=nt[r];l&&(a[r]=ee[r],_.value[r]=!1,o.push({prop:r,...l}))}),f.value=a,y.value=o}let i=null;function S(){i&&clearTimeout(i);const a={formData:f.value,enable:_.value};i=setTimeout(()=>{rt(a)},1e3)}let b=!1;le([f,_],()=>{b&&S()},{deep:!0});async function V(){await oe.confirm("确定要还原默认配置吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>!0).catch(()=>!1)&&(b=!1,u(),ce(()=>{b=!0}))}return ue(()=>{u();const a=st();a&&(Object.keys((a==null?void 0:a.formData)||{}).forEach(o=>{M.hasOwn(_.value,o)&&(f.value[o]=a.formData[o])}),Object.keys((a==null?void 0:a.enable)||{}).forEach(o=>{M.hasOwn(_.value,o)&&(_.value[o]=a.enable[o])})),b=!0}),h({getData(){const a={};return y.value.forEach(o=>{$.value&&!o.v1customCode||_.value[o.prop]&&(a[o.prop]=f.value[o.prop])}),a}}),(a,o)=>{const r=w("el-switch"),l=w("el-autocomplete"),p=w("el-input"),k=w("el-input-tag"),E=w("el-option"),A=w("el-select"),z=w("el-form-item"),n=w("el-button"),e=w("el-form");return g(),T("div",it,[t("span",ut,[o[1]||(o[1]=t("span",null,"是否用于哪吒V1控制台自定义代码？",-1)),m(r,{modelValue:$.value,"onUpdate:modelValue":o[0]||(o[0]=c=>$.value=c),"inline-prompt":"","active-text":"是","inactive-text":"否"},null,8,["modelValue"])]),m(e,{model:f.value,"label-width":"150px"},{default:x(()=>[(g(!0),T(N,null,R(y.value,c=>(g(),T(N,{key:c.prop},[!$.value||c.v1customCode?(g(),D(z,{key:0,label:c.label,prop:c.prop},{label:x(()=>[t("div",ct,[t("span",null,O(c.label),1),c.version?(g(),T("span",{key:0,class:"support-version",title:`支持版本：${c.version}`},O(c.version),9,dt)):G("",!0)])]),default:x(()=>[t("div",pt,[t("div",mt,[m(r,{modelValue:_.value[c.prop],"onUpdate:modelValue":C=>_.value[c.prop]=C,"inline-prompt":"","active-text":"启用","inactive-text":"禁用"},null,8,["modelValue","onUpdate:modelValue"])]),t("div",ft,[c.type==="input"&&c.options?(g(),D(l,{key:0,modelValue:f.value[c.prop],"onUpdate:modelValue":C=>f.value[c.prop]=C,placeholder:c.placeholder,"fetch-suggestions":c.options},{default:x(({item:C})=>[t("div",vt,[t("div",ht,O(C.value),1),t("span",yt,O(C.label)+O(C.remark),1)])]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","fetch-suggestions"])):c.type==="input"?(g(),D(p,{key:1,modelValue:f.value[c.prop],"onUpdate:modelValue":C=>f.value[c.prop]=C,clearable:"",placeholder:c.placeholder},null,8,["modelValue","onUpdate:modelValue","placeholder"])):c.type==="input-tag"?(g(),D(k,{key:2,modelValue:f.value[c.prop],"onUpdate:modelValue":C=>f.value[c.prop]=C,clearable:"",placeholder:c.placeholder},null,8,["modelValue","onUpdate:modelValue","placeholder"])):c.type==="select"?(g(),D(A,{key:3,modelValue:f.value[c.prop],"onUpdate:modelValue":C=>f.value[c.prop]=C,clearable:"",placeholder:c.placeholder},{default:x(()=>[(g(!0),T(N,null,R(c.options,C=>(g(),D(E,{key:C.value,label:C.label,value:C.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])):c.type==="switch"?(g(),D(r,{key:4,modelValue:f.value[c.prop],"onUpdate:modelValue":C=>f.value[c.prop]=C},null,8,["modelValue","onUpdate:modelValue"])):G("",!0)]),c.remark?(g(),T("div",_t," Tips: "+O(c.remark),1)):G("",!0)])]),_:2},1032,["label","prop"])):G("",!0)],64))),128)),m(z,null,{default:x(()=>[m(n,{type:"warning",onClick:V},{default:x(()=>o[2]||(o[2]=[L(" 还原默认配置 ")])),_:1})]),_:1})]),_:1},8,["model"])])}}},gt=j(bt,[["__scopeId","data-v-8de41912"]]),xt={class:"export-box"},Ct={class:"config-box"},kt={class:"config-textarea-box"},wt={class:"config-textarea-operate"},St={class:"left-box"},$t={class:"right-box"},Vt={__name:"export-box",props:{refreshData:{type:Function,default:()=>{}}},setup(s,{expose:h}){const d=s,f=ae(),y=U(()=>f.state.v1CustomCode),_=P(!1),$=P(),u=P(""),i={ArrayToString:void 0,ObjectToString:void 0};i.ArrayToString=(o,r="")=>{let l=`[
`;return o.forEach(p=>{var k,E;if(Array.isArray(p)){l+=`${r}  ${(k=i==null?void 0:i.ArrayToString)==null?void 0:k.call(i,p,`${r}  `)},
`;return}if(typeof p=="object"){l+=`${r}  ${(E=i==null?void 0:i.ObjectToString)==null?void 0:E.call(i,p,`${r}  `)},
`;return}typeof p=="string"&&(p=`'${p}'`),typeof p=="boolean"&&(p=p?"true":"false"),!(typeof p>"u")&&(l+=`${r}  ${p},
`)}),l+=`${r}]`,l},i.ObjectToString=(o,r="")=>{let l=`{
`;return Object.entries(o).forEach(([p,k])=>{var A,z;let E=k;if(Array.isArray(k)){l+=`${r}  ${p}: ${(A=i==null?void 0:i.ArrayToString)==null?void 0:A.call(i,E,`${r}  `)},
`;return}if(typeof k=="object"){l+=`${r}  ${p}: ${(z=i==null?void 0:i.ObjectToString)==null?void 0:z.call(i,E,`${r}  `)},
`;return}typeof k=="string"&&(E=`'${k}'`),typeof k=="boolean"&&(E=k?"true":"false"),!(typeof k>"u")&&(l+=`${r}  ${p}: ${E},
`)}),l+=`${r}}`,l};function S(o){$.value=o;const r=i.ObjectToString(o);y.value?u.value=`<script>
window.$mergeNazhuaConfig && window.$mergeNazhuaConfig(${r});
&lt;/script>`.replace("&lt;/","</"):u.value=`window.$$nazhuaConfig = ${r};`,_.value=!1,setTimeout(()=>{_.value=!0},300)}function b(){const o=document.createElement("textarea");o.value=u.value,document.body.appendChild(o),o.select(),document.execCommand("Copy"),document.body.removeChild(o),F.success("复制成功")}function V(){const o=new Blob([u.value],{type:"text/plain"}),r=URL.createObjectURL(o),l=document.createElement("a");l.href=r,l.download="config.js",l.click(),URL.revokeObjectURL(r)}function a(){var r;const o=(r=d==null?void 0:d.refreshData)==null?void 0:r.call(d);o&&S(o)}return le(()=>y.value,()=>{a()}),h({setData(o){S(o)}}),(o,r)=>{const l=w("highlightjs"),p=w("el-button");return g(),T("div",xt,[t("div",Ct,[t("div",kt,[_.value?(g(),D(l,{key:0,language:"js",code:u.value},null,8,["code"])):G("",!0)]),t("div",wt,[t("div",St,[m(p,{type:"success",plain:"",onClick:b},{default:x(()=>r[0]||(r[0]=[L(" 复制内容 ")])),_:1}),y.value?G("",!0):(g(),D(p,{key:0,type:"primary",plain:"",onClick:V},{default:x(()=>r[1]||(r[1]=[L(" 下载文件 ")])),_:1}))]),t("div",$t,[m(p,{type:"danger",plain:"",onClick:a},{default:x(()=>r[2]||(r[2]=[L(" 重载配置 ")])),_:1})])])])])}}},Tt=j(Vt,[["__scopeId","data-v-b0e006d3"]]),Pt={class:"home-page"},Ot={class:"home-container container"},Et={__name:"home",setup(s){const h=P("mapPoint"),d=P(null),f=P(null),y=P(null);function _(){var S,b,V,a;const u=(b=(S=d.value)==null?void 0:S.getData)==null?void 0:b.call(S),i=(a=(V=f.value)==null?void 0:V.getData)==null?void 0:a.call(V);return u!=null&&u.customCodeMap&&Object.keys(u.customCodeMap).length&&(i.customCodeMap=u==null?void 0:u.customCodeMap),i}function $(){var u,i;h.value==="exportConfig"&&((i=(u=y.value)==null?void 0:u.setData)==null||i.call(u,_()))}return(u,i)=>{const S=w("el-tab-pane"),b=w("el-tabs");return g(),T("div",Pt,[i[1]||(i[1]=t("div",{class:"home-header"},[t("div",{class:"home-header-container container"},[t("div",{class:"left-box"},[t("h1",{class:"site-name"},"Nazhua配置生成器")]),t("div",{class:"right-box"},[t("a",{class:"github-link",href:"https://github.com/hi2shark/nazhua",_target:"blank"}," Github ")])])],-1)),t("div",Ot,[m(b,{modelValue:h.value,"onUpdate:modelValue":i[0]||(i[0]=V=>h.value=V),onTabChange:$},{default:x(()=>[m(S,{label:"地图坐标拾取",name:"mapPoint"},{default:x(()=>[m(lt,{ref_key:"worldMapBoxRef",ref:d},null,512)]),_:1}),m(S,{label:"自定义配置",name:"customConfig"},{default:x(()=>[m(gt,{ref_key:"configBoxRef",ref:f},null,512)]),_:1}),m(S,{label:"导出配置",name:"exportConfig"},{default:x(()=>[m(Tt,{ref_key:"exportBoxRef",ref:y,"refresh-data":_},null,512)]),_:1})]),_:1},8,["modelValue"])])])}}},Dt=j(Et,[["__scopeId","data-v-b145fd66"]]);export{Dt as default};
